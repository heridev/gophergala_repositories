/*
 * Framework7 0.10.0
 * Full Featured HTML Framework For Building iOS 7 Apps
 *
 * http://www.idangero.us/framework7
 *
 * Copyright 2014, Vladimir Kharlampidi
 * The iDangero.us
 * http://www.idangero.us/
 *
 * Licensed under MIT
 *
 * Released on: December 8, 2014
*/

!function(){"use strict";window.Framework7=function(b){function c(a){var b=a.replace(/^./,function(a){return a.toUpperCase()});f["onPage"+b]=function(b,c){return f.onPage(a,b,c)}}function d(){var a,b=h(this),c=b[0].scrollTop,d=b[0].scrollHeight,e=b[0].offsetHeight,f=b[0].getAttribute("data-distance"),g=b.find(".virtual-list");if(f||(f=50),"string"==typeof f&&f.indexOf("%")>=0&&(f=parseInt(f,10)/100*e),f>e&&(f=e),c+e>=d-f){if(g.length>0&&(a=g[0].f7VirtualList,a&&!a.reachEnd))return;b.trigger("infinite")}}function e(){f.device.ipad&&(document.body.scrollLeft=0,setTimeout(function(){document.body.scrollLeft=0},0))}var f=this;f.version="0.10.0",f.params={cache:!0,cacheIgnore:[],cacheIgnoreGetParameters:!1,cacheDuration:6e5,preloadPreviousPage:!0,uniqueHistory:!1,uniqueHistoryIgnoreGetParameters:!1,dynamicPageUrl:"content-{{index}}",allowDuplicateUrls:!1,router:!0,pushState:!1,pushStateRoot:void 0,pushStateNoAnimation:!1,pushStateSeparator:"#!/",fastClicks:!0,fastClicksDistanceThreshold:0,activeState:!0,activeStateElements:"a, button, label, span",animateNavBackIcon:!1,swipeBackPage:!0,swipeBackPageThreshold:0,swipeBackPageActiveArea:30,swipeBackPageAnimateShadow:!0,swipeBackPageAnimateOpacity:!0,ajaxLinks:void 0,externalLinks:".external",sortable:!0,hideNavbarOnPageScroll:!1,hideToolbarOnPageScroll:!1,hideTabbarOnPageScroll:!1,showBarsOnPageScrollEnd:!0,swipeout:!0,swipeoutActionsNoFold:!1,swipeoutNoFollow:!1,smartSelectBackTemplate:'<div class="left sliding"><a href="#" class="back link"><i class="icon icon-back"></i><span>{{backText}}</span></a></div>',smartSelectBackText:"Back",smartSelectInPopup:!1,smartSelectPopupCloseTemplate:'<div class="left"><a href="#" class="link close-popup"><i class="icon icon-back"></i><span>{{closeText}}</span></a></div>',smartSelectPopupCloseText:"Close",smartSelectSearchbar:!1,smartSelectBackOnSelect:!1,searchbarHideDividers:!0,searchbarHideGroups:!0,swipePanel:!1,swipePanelActiveArea:0,swipePanelCloseOpposite:!0,swipePanelOnlyClose:!1,swipePanelNoFollow:!1,swipePanelThreshold:0,panelsCloseByOutside:!0,modalButtonOk:"OK",modalButtonCancel:"Cancel",modalUsernamePlaceholder:"Username",modalPasswordPlaceholder:"Password",modalTitle:"Framework7",modalCloseByOutside:!1,actionsCloseByOutside:!0,popupCloseByOutside:!0,modalPreloaderTitle:"Loading... ",viewClass:"view",viewMainClass:"view-main",viewsClass:"views",notificationCloseOnClick:!1,notificationCloseIcon:!0,animatePages:!0,templates:{},template7Data:{},template7Pages:!1,precompileTemplates:!1,init:!0};for(var g in b)f.params[g]=b[g];var h=a,i=Template7;f._compiledTemplates={},f.touchEvents={start:f.support.touch?"touchstart":"mousedown",move:f.support.touch?"touchmove":"mousemove",end:f.support.touch?"touchend":"mouseup"},f.ls=localStorage,f.rtl="rtl"===h("body").css("direction"),f.rtl&&h("html").attr("dir","rtl"),"undefined"!=typeof f.params.statusbarOverlay&&(f.params.statusbarOverlay?h("html").addClass("with-statusbar-overlay"):h("html").removeClass("with-statusbar-overlay")),f.views=[];var j=function(a,b){var c,d={dynamicNavbar:!1,domCache:!1,linksView:void 0,reloadPages:!1,uniqueHistory:f.params.uniqueHistory,uniqueHistoryIgnoreGetParameters:f.params.uniqueHistoryIgnoreGetParameters,allowDuplicateUrls:f.params.allowDuplicateUrls,swipeBackPage:f.params.swipeBackPage,swipeBackPageAnimateShadow:f.params.swipeBackPageAnimateShadow,swipeBackPageAnimateOpacity:f.params.swipeBackPageAnimateOpacity,swipeBackPageActiveArea:f.params.swipeBackPageActiveArea,swipeBackPageThreshold:f.params.swipeBackPageThreshold,animatePages:f.params.animatePages,preloadPreviousPage:f.params.preloadPreviousPage};b=b||{};for(var e in d)"undefined"==typeof b[e]&&(b[e]=d[e]);var g=this;g.params=b,g.selector=a;var i=h(a);if(g.container=i[0],g.contentCache={},g.pagesCache={},i[0].f7View=g,g.pagesContainer=i.find(".pages")[0],g.initialPages=[],g.initialNavbars=[],g.params.domCache){var j=i.find(".page");for(c=0;c<j.length;c++)g.initialPages.push(j[c]);if(g.params.dynamicNavbar){var k=i.find(".navbar-inner");for(c=0;c<k.length;c++)g.initialNavbars.push(k[c])}}g.allowPageChange=!0;var l=document.location.href;g.history=[];var m=l,n=f.params.pushStateSeparator,o=f.params.pushStateRoot;f.params.pushState&&(o?m=o:m.indexOf(n)>=0&&m.indexOf(n+"#")<0&&(m=m.split(n)[0]));var p,q;g.activePage||(p=h(g.pagesContainer).find(".page-on-center"),0===p.length&&(p=h(g.pagesContainer).find(".page:not(.cached)"),p=p.eq(p.length-1)),p.length>0&&(q=p[0].f7PageData)),g.params.domCache&&p?(g.url=i.attr("data-url")||g.params.url||"#"+p.attr("data-page"),g.pagesCache[g.url]=p.attr("data-page")):g.url=i.attr("data-url")||g.params.url||m,q&&(q.view=g,q.url=g.url,g.activePage=q,p[0].f7PageData=q),g.url&&g.history.push(g.url),g.main=i.hasClass(f.params.viewMainClass);var r,s,t,u,v,w,x,y,z,A,B=!1,C=!1,D={},E=[],F=[],G=!0,H=[],I=[];if(g.handleTouchStart=function(a){G&&g.params.swipeBackPage&&!B&&!f.swipeoutOpenedEl&&(C=!1,B=!0,r=void 0,D.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,D.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,u=(new Date).getTime(),z=g.params.dynamicNavbar&&i.find(".navbar-inner").length>1)},g.handleTouchMove=function(a){if(B){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof r&&(r=!!(r||Math.abs(c-D.y)>Math.abs(b-D.x))),r||a.f7PreventSwipeBack||f.preventSwipeBack)return void(B=!1);if(!C){var d=!1;s=i.width();var e=h(a.target),j=e.hasClass("swipeout")?e:e.parents(".swipeout");j.length>0&&(!f.rtl&&j.find(".swipeout-actions-left").length>0&&(d=!0),f.rtl&&j.find(".swipeout-actions-right").length>0&&(d=!0)),E=e.is(".page")?e:e.parents(".page"),E.hasClass("no-swipeback")&&(d=!0),F=i.find(".page-on-left:not(.cached)");var k=D.x-i.offset().left>g.params.swipeBackPageActiveArea;if(k=f.rtl?D.x<i.offset().left-i[0].scrollLeft+s-g.params.swipeBackPageActiveArea:D.x-i.offset().left>g.params.swipeBackPageActiveArea,k&&(d=!0),(0===F.length||0===E.length)&&(d=!0),d)return void(B=!1);z&&(H=i.find(".navbar-on-center:not(.cached)"),I=i.find(".navbar-on-left:not(.cached)"),v=H.find(".left, .center, .right"),w=I.find(".left, .center, .right"),f.params.animateNavBackIcon&&(x=H.find(".left.sliding .back .icon"),y=I.find(".left.sliding .back .icon")))}a.f7PreventPanelSwipe=!0,C=!0,a.preventDefault();var l=f.rtl?-1:1;t=(b-D.x-g.params.swipeBackPageThreshold)*l,0>t&&(t=0);var m=t/s,n={percentage:m,activePage:E[0],previousPage:F[0],activeNavbar:H[0],previousNavbar:I[0]};g.params.onSwipeBackMove&&g.params.onSwipeBackMove(n),i.trigger("swipebackmove",n);var o=t*l,p=(t/5-s/5)*l;if(1===f.device.pixelRatio&&(o=Math.round(o),p=Math.round(p)),E.transform("translate3d("+o+"px,0,0)"),g.params.swipeBackPageAnimateShadow&&"android"!==f.device.os&&(E[0].style.boxShadow="0px 0px 12px rgba(0,0,0,"+(.5-.5*m)+")"),F.transform("translate3d("+p+"px,0,0)"),g.params.swipeBackPageAnimateOpacity&&(F[0].style.opacity=.9+.1*m),z){var q;for(q=0;q<v.length;q++)if(A=h(v[q]),A[0].style.opacity=1-1.3*m,A[0].className.indexOf("sliding")>=0){var u=m*A[0].f7NavbarRightOffset;1===f.device.pixelRatio&&(u=Math.round(u)),A.transform("translate3d("+u+"px,0,0)"),f.params.animateNavBackIcon&&A[0].className.indexOf("left")>=0&&x.length>0&&x.transform("translate3d("+-u+"px,0,0)")}for(q=0;q<w.length;q++)if(A=h(w[q]),A[0].style.opacity=1.3*m-.3,A[0].className.indexOf("sliding")>=0){var G=A[0].f7NavbarLeftOffset*(1-m);1===f.device.pixelRatio&&(G=Math.round(G)),A.transform("translate3d("+G+"px,0,0)"),f.params.animateNavBackIcon&&A[0].className.indexOf("left")>=0&&y.length>0&&y.transform("translate3d("+-G+"px,0,0)")}}}},g.handleTouchEnd=function(){if(!B||!C)return B=!1,void(C=!1);if(B=!1,C=!1,0===t)return h([E[0],F[0]]).transform("").css({opacity:"",boxShadow:""}),void(z&&(v.transform("").css({opacity:""}),w.transform("").css({opacity:""}),x&&x.length>0&&x.transform(""),y&&x.length>0&&y.transform("")));var a=(new Date).getTime()-u,b=!1;if((300>a&&t>10||a>=300&&t>s/2)&&(E.removeClass("page-on-center").addClass("page-on-right"),F.removeClass("page-on-left").addClass("page-on-center"),z&&(H.removeClass("navbar-on-center").addClass("navbar-on-right"),I.removeClass("navbar-on-left").addClass("navbar-on-center")),b=!0),h([E[0],F[0]]).transform("").css({opacity:"",boxShadow:""}).addClass("page-transitioning"),z&&(v.css({opacity:""}).each(function(){var a=b?this.f7NavbarRightOffset:0,c=h(this);c.transform("translate3d("+a+"px,0,0)"),f.params.animateNavBackIcon&&c.hasClass("left")&&x.length>0&&x.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning"),w.transform("").css({opacity:""}).each(function(){var a=b?0:this.f7NavbarLeftOffset,c=h(this);c.transform("translate3d("+a+"px,0,0)"),f.params.animateNavBackIcon&&c.hasClass("left")&&y.length>0&&y.addClass("page-transitioning").transform("translate3d("+-a+"px,0,0)")}).addClass("page-transitioning")),G=!1,g.allowPageChange=!1,b){var c=g.history[g.history.length-2];g.url=c,f.pageBackCallbacks("before",g,{pageContainer:E[0],url:c,position:"center",newPage:F,oldPage:E,swipeBack:!0}),f.pageAnimCallbacks("before",g,{pageContainer:F[0],url:c,position:"left",newPage:F,oldPage:E,swipeBack:!0})}E.transitionEnd(function(){h([E[0],F[0]]).removeClass("page-transitioning"),z&&(v.removeClass("page-transitioning").css({opacity:""}),w.removeClass("page-transitioning").css({opacity:""}),x&&x.length>0&&x.removeClass("page-transitioning"),y&&y.length>0&&y.removeClass("page-transitioning")),G=!0,g.allowPageChange=!0,b&&(f.params.pushState&&history.back(),f.pageBackCallbacks("after",g,{pageContainer:E[0],url:c,position:"center",newPage:F,oldPage:E,swipeBack:!0}),f.pageAnimCallbacks("after",g,{pageContainer:F[0],url:c,position:"left",newPage:F,oldPage:E,swipeBack:!0}),f.router.afterBack(g,E,F))})},g.attachEvents=function(a){var b=a?"off":"on";i[b](f.touchEvents.start,g.handleTouchStart),i[b](f.touchEvents.move,g.handleTouchMove),i[b](f.touchEvents.end,g.handleTouchEnd)},g.detachEvents=function(){g.attachEvents(!0)},g.params.swipeBackPage&&g.attachEvents(),f.views.push(g),g.main&&(f.mainView=g),g.router={load:function(a){return f.router.load(g,a)},back:function(a){return f.router.back(g,a)},loadPage:function(a){if(a=a||{},"string"==typeof a){var b=a;a={},b&&0===b.indexOf("#")&&g.params.domCache?a.pageName=b.split("#")[1]:a.url=b}return f.router.load(g,a)},loadContent:function(a){return f.router.load(g,{content:a})},reloadPage:function(a){return f.router.load(g,{url:a,reload:!0})},reloadContent:function(a){return f.router.load(g,{content:a,reload:!0})},reloadPreviousPage:function(a){return f.router.load(g,{url:a,reloadPrevious:!0,reload:!0})},reloadPreviousContent:function(a){return f.router.load(g,{content:a,reloadPrevious:!0,reload:!0})},refreshPage:function(){var a={url:g.url,reload:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&(g.params.domCache&&g.pagesCache[a.url]?(a.pageName=g.pagesCache[a.url],a.url=void 0,delete a.url):g.contentCache[a.url]&&(a.content=g.contentCache[a.url],a.url=void 0,delete a.url)),f.router.load(g,a)},refreshPreviousPage:function(){var a={url:g.history[g.history.length-2],reload:!0,reloadPrevious:!0,ignoreCache:!0};return a.url&&0===a.url.indexOf("#")&&g.params.domCache&&g.pagesCache[a.url]&&(a.pageName=g.pagesCache[a.url],a.url=void 0,delete a.url),f.router.load(g,a)}},g.loadPage=g.router.loadPage,g.loadContent=g.router.loadContent,g.reloadPage=g.router.reloadPage,g.reloadContent=g.router.reloadContent,g.reloadPreviousPage=g.router.reloadPreviousPage,g.reloadPreviousContent=g.router.reloadPreviousContent,g.refreshPage=g.router.refreshPage,g.refreshPreviousPage=g.router.refreshPreviousPage,g.back=g.router.back,g.hideNavbar=function(){return f.hideNavbar(i.find(".navbar"))},g.showNavbar=function(){return f.showNavbar(i.find(".navbar"))},g.hideToolbar=function(){return f.hideToolbar(i.find(".toolbar"))},g.showToolbar=function(){return f.showToolbar(i.find(".toolbar"))},f.params.pushState&&g.main){var J;o?J=l.split(f.params.pushStateRoot+n)[1]:l.indexOf(n)>=0&&l.indexOf(n+"#")<0&&(J=l.split(n)[1]);var K=f.params.pushStateNoAnimation?!1:void 0;if(J)f.router.load(g,{url:J,animatePages:K,pushState:!1});else if(l.indexOf(n+"#")>=0){var L=history.state;L.pageName&&"viewIndex"in L&&f.router.load(g,{pageName:L.pageName,pushState:!1})}}return g.destroy=function(){g.detachEvents(),g=void 0},f.pluginHook("addView",g),g};f.addView=function(a,b){return new j(a,b)},f.navbarInitCallback=function(a,b,c,d,e,g){var i={container:c,innerContainer:d},j={url:e,query:h.parseUrlQuery(e||""),container:b,name:h(b).attr("data-page"),view:a,from:g},k={navbar:i,page:j};f.pluginHook("navbarInit",i,j),h(d).trigger("navbarInit",k)},f.sizeNavbars=function(a){var b=a?h(a).find(".navbar .navbar-inner:not(.cached)"):h(".navbar .navbar-inner:not(.cached)");b.each(function(){var a=h(this);if(!a.hasClass("cached")){var b,c,d=a.find(f.rtl?".right":".left"),e=a.find(f.rtl?".left":".right"),g=a.find(".center"),i=0===d.length,j=0===e.length,k=i?0:d.outerWidth(!0),l=j?0:e.outerWidth(!0),m=g.outerWidth(!0),n=a[0].offsetWidth-parseInt(a.css("padding-left"),10)-parseInt(a.css("padding-right"),10),o=a.hasClass("navbar-on-left");j&&(b=n-m),i&&(b=0),i||j||(b=(n-l-m+k)/2);var p=(n-m)/2;n-k-l>m?(k>p&&(p=k),p+m>n-l&&(p=n-l-m),c=p-b):c=0;var q=f.rtl?-1:1,r=c;f.rtl&&i&&j&&g.length>0&&(r=-r),g.css({left:r+"px"}),g.hasClass("sliding")&&(g[0].f7NavbarLeftOffset=-(b+c)*q,g[0].f7NavbarRightOffset=(n-b-c-m)*q,o&&g.transform("translate3d("+g[0].f7NavbarLeftOffset+"px, 0, 0)")),!i&&d.hasClass("sliding")&&(f.rtl?(d[0].f7NavbarLeftOffset=-(n-d.outerWidth())/2*q,d[0].f7NavbarRightOffset=k*q):(d[0].f7NavbarLeftOffset=-k,d[0].f7NavbarRightOffset=(n-d.outerWidth())/2),o&&d.transform("translate3d("+d[0].f7NavbarLeftOffset+"px, 0, 0)")),!j&&e.hasClass("sliding")&&(f.rtl?(e[0].f7NavbarLeftOffset=-l*q,e[0].f7NavbarRightOffset=(n-e.outerWidth())/2*q):(e[0].f7NavbarLeftOffset=-(n-e.outerWidth())/2,e[0].f7NavbarRightOffset=l),o&&e.transform("translate3d("+e[0].f7NavbarLeftOffset+"px, 0, 0)"))}})},f.hideNavbar=function(a){return h(a).addClass("navbar-hidden"),!0},f.showNavbar=function(a){var b=h(a);return b.addClass("navbar-hiding").removeClass("navbar-hidden").transitionEnd(function(){b.removeClass("navbar-hiding")}),!0},f.hideToolbar=function(a){return h(a).addClass("toolbar-hidden"),!0},f.showToolbar=function(a){var b=h(a);b.addClass("toolbar-hiding").removeClass("toolbar-hidden").transitionEnd(function(){b.removeClass("toolbar-hiding")})},f.initSearchbar=function(a){function b(){p.val("").trigger("change"),m.removeClass("searchbar-active searchbar-not-empty"),r.length>0&&r.css(x,-r[0].offsetWidth+"px"),s&&o.removeClass("searchbar-overlay-active"),f.device.ios?setTimeout(function(){p.blur(),s.trigger("disableSearch")},400):(p.blur(),s.trigger("disableSearch"))}function c(){f.device.ios?setTimeout(function(){s&&!m.hasClass("searchbar-active")&&o.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),r.length>0&&r.css(x,"0px"),s.trigger("enableSearch")},400):(s&&!m.hasClass("searchbar-active")&&o.addClass("searchbar-overlay-active"),m.addClass("searchbar-active"),r.length>0&&r.css(x,"0px"),s.trigger("enableSearch"))}function d(){p.val("").trigger("change").focus(),s.trigger("clearSearch")}function e(){setTimeout(function(){var a=p.val().trim();0===a.length?(m.removeClass("searchbar-not-empty"),s&&m.hasClass("searchbar-active")&&o.addClass("searchbar-overlay-active")):(m.addClass("searchbar-not-empty"),s&&m.hasClass("searchbar-active")&&o.removeClass("searchbar-overlay-active")),s.length>0&&(u||t)&&k(a)},0)}function g(a){a.preventDefault()}function i(a){var f=a?"off":"on";m[f]("submit",g),r[f]("click",b),o[f]("click",b),p[f]("focus",c),p[f]("change keydown keypress keyup",e),q[f]("click",d)}function j(){i(!0)}function k(a){if(a.trim()!==y){y=a.trim();var b=a.trim().toLowerCase().split(" "),c=[];if(t){if(n=s[0].f7VirtualList,""===a.trim())return n.resetFilter(),w.hide(),void v.show();if(n.params.searchAll)c=n.params.searchAll(a,n.items)||[];else if(n.params.searchByItem)for(var d=0;d<n.items.length;d++)n.params.searchByItem(a,d,n.params.items[d])&&c.push(d)}else s.find("li").removeClass("hidden-by-searchbar").each(function(a,d){d=h(d);var e=d.find(u);if(0!==e.length){var f;f=e.text().trim().toLowerCase();for(var g=0,i=0;i<b.length;i++)f.indexOf(b[i])>=0&&g++;g!==b.length?d.addClass("hidden-by-searchbar"):c.push(d[0])}}),f.params.searchbarHideDividers&&s.find(".item-divider, .list-group-title").each(function(){for(var a=h(this),b=a.nextAll("li"),c=!0,d=0;d<b.length;d++){var e=h(b[d]);if(e.hasClass("list-group-title")||e.hasClass("item-divider"))break;e.hasClass("hidden-by-searchbar")||(c=!1)}c?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")}),f.params.searchbarHideGroups&&s.find(".list-group").each(function(){var a=h(this),b=a.find("li:not(.hidden-by-searchbar)");0===b.length?a.addClass("hidden-by-searchbar"):a.removeClass("hidden-by-searchbar")});s.trigger("search",{query:a,foundItems:c}),0===c.length?(w.show(),v.hide()):(w.hide(),v.show()),t&&n.filterItems(c)}}function l(){j(),a.off("pageBeforeRemove",l)}a=h(a);var m=a.hasClass("searchbar")?a:a.find(".searchbar");if(0!==m.length){a.hasClass("page")||(a=m.parents(".page").eq(0));var n,o=a.hasClass("page")?a.find(".searchbar-overlay"):h(".searchbar-overlay"),p=m.find('input[type="search"]'),q=m.find(".searchbar-clear"),r=m.find(".searchbar-cancel"),s=h(m.attr("data-search-list")),t=s.hasClass("virtual-list"),u=m.attr("data-search-in"),v=(m.attr("data-search-by"),m.attr("data-searchbar-found"));v?v=h(v):(v=a.find(".searchbar-found"),0===v.length&&(v=h(".searchbar-found")));var w=m.attr("data-searchbar-not-found");w?w=h(w):(w=a.find(".searchbar-not-found"),0===w.length&&(w=h(".searchbar-not-found")));var x=f.rtl?"margin-left":"margin-right";r.length>0&&r.css(x,-r[0].offsetWidth+"px"),m[0].f7DestroySearchbar=j,i();var y;a.hasClass("page")&&a.on("pageBeforeRemove",l)}},f.destroySearchbar=function(a){a=h(a);var b=a.hasClass("searchbar")?a:a.find(".searchbar");0!==b.length&&b[0].f7DestroySearchbar&&b[0].f7DestroySearchbar()},f.initMessagebar=function(a){function b(a){a.preventDefault()}function c(){k.css({height:""});var a=k[0].offsetHeight,b=a-k[0].clientHeight,c=k[0].scrollHeight;if(c+b>a){var d=c+b,e=m+(d-n),f=i.attr("data-max-height")||i.parents(".view")[0].offsetHeight-88;e>f&&(e=f,d=e-m+n),k.css("height",d+"px"),i.css("height",e+"px"),l.length>0&&(l.css("padding-bottom",e+"px"),l.scrollTop(l[0].scrollHeight-l[0].offsetHeight))}else l.length>0&&(i.css({height:""}),l.css({"padding-bottom":""}))}function d(){clearTimeout(j),j=setTimeout(function(){c()},0)}function e(a){var c=a?"off":"on";i[c]("submit",b),k[c]("change keydown keypress keyup paste cut",d)}function f(){e(!0)}function g(){f(),a.off("pageBeforeRemove",g)}a=h(a);var i=a.hasClass("messagebar")?a:a.find(".messagebar");if(0!==i.length){var j,k=i.find("textarea"),l=i.parents(".page").find(".page-content"),m=i[0].offsetHeight,n=k[0].offsetHeight;i[0].f7DestroyMessagebar=f,e(),a.hasClass("page")&&a.on("pageBeforeRemove",g)}},f.destroyMessagebar=function(a){a=h(a);var b=a.hasClass("messagebar")?a:a.find(".messagebar");0!==b.length&&b[0].f7DestroyMessagebar&&b[0].f7DestroyMessagebar()},f.cache=[],f.removeFromCache=function(a){for(var b=!1,c=0;c<f.cache.length;c++)f.cache[c].url===a&&(b=c);b!==!1&&f.cache.splice(b,1)},f.xhr=!1,f.get=function(a,b,c,d){var e=a;if(f.params.cacheIgnoreGetParameters&&a.indexOf("?")>=0&&(e=a.split("?")[0]),f.params.cache&&!c&&a.indexOf("nocache")<0&&f.params.cacheIgnore.indexOf(e)<0)for(var g=0;g<f.cache.length;g++)if(f.cache[g].url===e&&(new Date).getTime()-f.cache[g].time<f.params.cacheDuration)return d(f.cache[g].content),!1;return f.xhr=h.ajax({url:a,method:"GET",start:f.params.onAjaxStart,complete:function(a){200===a.status||0===a.status?(f.params.cache&&!c&&(f.removeFromCache(e),f.cache.push({url:e,time:(new Date).getTime(),content:a.responseText})),d(a.responseText,!1)):d(a.responseText,!0),f.params.onAjaxComplete&&f.params.onAjaxComplete(a)},error:function(a){d(a.responseText,!0),f.params.onAjaxError&&f.params.onAjaxonAjaxError(a)}}),b&&(b.xhr=f.xhr),f.xhr},f.pageCallbacks={},f.onPage=function(a,b,c){if(b&&b.split(" ").length>1){for(var d=b.split(" "),e=[],g=0;g<d.length;g++)e.push(f.onPage(a,d[g],c));return e.remove=function(){for(var a=0;a<e.length;a++)e[a].remove()},e.trigger=function(){for(var a=0;a<e.length;a++)e[a].trigger()},e}var h=f.pageCallbacks[a][b];return h||(h=f.pageCallbacks[a][b]=[]),f.pageCallbacks[a][b].push(c),{remove:function(){for(var a,b=0;b<h.length;b++)h[b].toString()===c.toString()&&(a=b);"undefined"!=typeof a&&h.splice(a,1)},trigger:c}};for(var k="beforeInit init reinit beforeAnimation afterAnimation back afterBack beforeRemove".split(" "),l=0;l<k.length;l++)f.pageCallbacks[k[l]]={},c(k[l]);f.triggerPageCallbacks=function(a,b,c){var d=f.pageCallbacks[a]["*"];if(d)for(var e=0;e<d.length;e++)d[e](c);var g=f.pageCallbacks[a][b];if(g&&0!==g.length)for(var h=0;h<g.length;h++)g[h](c)},f.pageInitCallback=function(a,b){var c=b.pageContainer;if(!c.f7PageInitialized||a.params.domCache){var d={container:c,url:b.url,query:h.parseUrlQuery(b.url||""),name:h(c).attr("data-page"),view:a,from:b.position,context:b.context,navbarInnerContainer:b.navbarInnerContainer};if(c.f7PageInitialized&&a.params.domCache)return f.reinitPage(c),f.pluginHook("pageReinit",d),f.params.onPageReinit&&f.params.onPageBeforeInit(f,d),f.triggerPageCallbacks("reinit",d.name,d),void h(d.container).trigger("pageReinit",{page:d});c.f7PageInitialized=!0,c.f7PageData=d,a&&(a.activePage=d),f.pluginHook("pageBeforeInit",d),f.params.onPageBeforeInit&&f.params.onPageBeforeInit(f,d),f.triggerPageCallbacks("beforeInit",d.name,d),h(d.container).trigger("pageBeforeInit",{page:d}),f.initPage(c),f.pluginHook("pageInit",d),f.params.onPageInit&&f.params.onPageInit(f,d),f.triggerPageCallbacks("init",d.name,d),h(d.container).trigger("pageInit",{page:d})}},f.pageRemoveCallback=function(a,b,c){var d={container:b,name:h(b).attr("data-page"),view:a,url:b.f7PageData&&b.f7PageData.url,query:b.f7PageData&&b.f7PageData.query,from:c};f.pluginHook("pageBeforeRemove",d),f.params.onPageBeforeRemove&&f.params.onPageBeforeRemove(f,d),f.triggerPageCallbacks("beforeRemove",d.name,d),h(d.container).trigger("pageBeforeRemove",{page:d})},f.pageBackCallbacks=function(a,b,c){var d=c.pageContainer,e={container:c.pageContainer,name:h(d).attr("data-page"),url:d.f7PageData&&d.f7PageData.url,query:d.f7PageData&&d.f7PageData.query,view:b,from:c.position,context:c.context,swipeBack:c.swipeBack};"after"===a&&(f.pluginHook("pageAfterBack",e),f.params.onPageAfterBack&&f.params.onPageAfterBack(f,e),f.triggerPageCallbacks("afterBack",e.name,e),h(d).trigger("pageAfterBack",{page:e})),"before"===a&&(f.pluginHook("pageBack",e),f.params.onPageBack&&f.params.onPageBack(f,e),f.triggerPageCallbacks("back",e.name,e),h(e.container).trigger("pageBack",{page:e}))},f.pageAnimCallbacks=function(a,b,c){var d={container:c.pageContainer,url:c.url,query:h.parseUrlQuery(c.url||""),name:h(c.pageContainer).attr("data-page"),view:b,from:c.position,context:c.context,swipeBack:c.swipeBack},e=c.oldPage,g=c.newPage;if(c.pageContainer.f7PageData=d,"after"===a&&(f.pluginHook("pageAfterAnimation",d),f.params.onPageAfterAnimation&&f.params.onPageAfterAnimation(f,d),f.triggerPageCallbacks("afterAnimation",d.name,d),h(d.container).trigger("pageAfterAnimation",{page:d})),"before"===a){h(b.container).attr("data-page",d.name),b&&(b.activePage=d),g.hasClass("no-navbar")&&!e.hasClass("no-navbar")&&b.hideNavbar(),g.hasClass("no-navbar")||!e.hasClass("no-navbar")&&!e.hasClass("no-navbar-by-scroll")||b.showNavbar(),g.hasClass("no-toolbar")&&!e.hasClass("no-toolbar")&&b.hideToolbar(),g.hasClass("no-toolbar")||!e.hasClass("no-toolbar")&&!e.hasClass("no-toolbar-by-scroll")||b.showToolbar();var i;g.hasClass("no-tabbar")&&!e.hasClass("no-tabbar")&&(i=h(b.container).find(".tabbar"),0===i.length&&(i=h(b.container).parents("."+f.params.viewsClass).find(".tabbar")),f.hideToolbar(i)),g.hasClass("no-tabbar")||!e.hasClass("no-tabbar")&&!e.hasClass("no-tabbar-by-scroll")||(i=h(b.container).find(".tabbar"),0===i.length&&(i=h(b.container).parents("."+f.params.viewsClass).find(".tabbar")),f.showToolbar(i)),e.removeClass("no-navbar-by-scroll no-toolbar-by-scroll"),f.pluginHook("pageBeforeAnimation",d),f.params.onPageBeforeAnimation&&f.params.onPageBeforeAnimation(f,d),f.triggerPageCallbacks("beforeAnimation",d.name,d),h(d.container).trigger("pageBeforeAnimation",{page:d})}},f.initPage=function(a){f.sizeNavbars&&f.sizeNavbars(h(a).parents("."+f.params.viewClass)[0]),f.initMessages&&f.initMessages(a),f.initFormsStorage&&f.initFormsStorage(a),f.initSmartSelects&&f.initSmartSelects(a),f.initSlider&&f.initSlider(a),f.initPullToRefresh&&f.initPullToRefresh(a),f.initInfiniteScroll&&f.initInfiniteScroll(a),f.initSearchbar&&f.initSearchbar(a),f.initMessagebar&&f.initMessagebar(a),f.initScrollToolbars&&f.initScrollToolbars(a)},f.reinitPage=function(a){f.sizeNavbars&&f.sizeNavbars(h(a).parents("."+f.params.viewClass)[0]),f.reinitSlider&&f.reinitSlider(a)},f.router={temporaryDom:document.createElement("div"),findElement:function(a,b,c,d){b=h(b),d&&(a+=":not(.cached)");var e=b.find(a);return e.length>1&&("string"==typeof c.selector&&(e=b.find(c.selector+" "+a)),e.length>1&&(e=b.find("."+f.params.viewMainClass+" "+a))),1===e.length?e:(d||(e=f.router.findElement(a,b,c,!0)),e&&1===e.length?e:void 0)},animatePages:function(a,b,c){var d="page-on-center page-on-right page-on-left";"to-left"===c&&(a.removeClass(d).addClass("page-from-center-to-left"),b.removeClass(d).addClass("page-from-right-to-center")),"to-right"===c&&(a.removeClass(d).addClass("page-from-left-to-center"),b.removeClass(d).addClass("page-from-center-to-right"))},prepareNavbar:function(a,b,c){h(a).find(".sliding").each(function(){var a=h(this),d="right"===c?this.f7NavbarRightOffset:this.f7NavbarLeftOffset;f.params.animateNavBackIcon&&(a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-d+"px,0,0)"),"left"===c&&a.hasClass("center")&&h(b).find(".left .back .icon ~ span").length>0&&(d+=h(b).find(".left .back span")[0].offsetLeft)),a.transform("translate3d("+d+"px,0,0)")})},animateNavbars:function(a,b,c){var d="navbar-on-right navbar-on-center navbar-on-left";"to-left"===c&&(b.removeClass(d).addClass("navbar-from-right-to-center"),b.find(".sliding").each(function(){var a=h(this);a.transform("translate3d(0px,0,0)"),f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),a.removeClass(d).addClass("navbar-from-center-to-left"),a.find(".sliding").each(function(){var a=h(this);f.params.animateNavBackIcon&&(a.hasClass("center")&&b.find(".sliding.left .back .icon").length>0&&(this.f7NavbarLeftOffset+=b.find(".sliding.left .back span")[0].offsetLeft),a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarLeftOffset+"px,0,0)")),a.transform("translate3d("+this.f7NavbarLeftOffset+"px,0,0)")})),"to-right"===c&&(a.removeClass(d).addClass("navbar-from-left-to-center"),a.find(".sliding").each(function(){var a=h(this);a.transform("translate3d(0px,0,0)"),f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d(0px,0,0)")}),b.removeClass(d).addClass("navbar-from-center-to-right"),b.find(".sliding").each(function(){var a=h(this);f.params.animateNavBackIcon&&a.hasClass("left")&&a.find(".back .icon").length>0&&a.find(".back .icon").transform("translate3d("+-this.f7NavbarRightOffset+"px,0,0)"),a.transform("translate3d("+this.f7NavbarRightOffset+"px,0,0)")}))},preprocess:function(a,b,c){f.pluginHook("routerPreprocess",a,b,c),a=f.pluginProcess("preprocess",a),f.params.preprocess?(a=f.params.preprocess(a,b,c),"undefined"!=typeof a&&c(a)):c(a)},template7Render:function(a,b){{var c,d,e=b.url,g=b.content,j=b.content,k=b.context,l=b.contextName,m=b.template;b.pageName}if("string"==typeof g?e?f.template7Cache[e]?d=i.cache[e]:(d=i.compile(g),i.cache[e]=d):d=i.compile(g):m&&(d=m),k)c=k;else{if(l)if(l.indexOf(".")>=0){for(var n=l.split("."),o=i.data[n[0]],p=1;p<n.length;p++)n[p]&&(o=o[n[p]]);c=o}else c=i.data[l];if(!c&&e&&(c=i.data["url:"+e]),!c&&"string"==typeof g&&!m){var q=g.match(/(data-page=["'][^"^']*["'])/);if(q){var r=q[0].split("data-page=")[1].replace(/['"]/g,"");r&&(c=i.data["page:"+r])}}if(!c&&m&&i.templates)for(var s in i.templates)i.templates[s]===m&&(c=i.data[s]);c||(c={})}if(d&&c){if("function"==typeof c&&(c=c()),e){var t=h.parseUrlQuery(e);c.url_query={};for(var u in t)c.url_query[u]=t[u]}j=d(c)}return{content:j,context:c}}},f.router._load=function(a,b){function c(){a.allowPageChange=!0,d.removeClass("page-from-right-to-center page-on-right").addClass("page-on-center"),e.removeClass("page-from-center-to-left page-on-center").addClass("page-on-left"),m&&(k.removeClass("navbar-from-right-to-center navbar-on-right").addClass("navbar-on-center"),j.removeClass("navbar-from-center-to-left navbar-on-center").addClass("navbar-on-left")),f.pageAnimCallbacks("after",a,{pageContainer:d[0],url:o,position:"right",oldPage:e,newPage:d,context:q.context}),f.params.pushState&&f.pushStateClearQueue(),a.params.swipeBackPage||a.params.preloadPreviousPage||(a.params.domCache?(e.addClass("cached"),j.addClass("cached")):(0!==o.indexOf("#")||0!==d.attr("data-page").indexOf("smart-select-"))&&(f.pageRemoveCallback(a,e[0],"left"),e.remove(),m&&j.remove())),a.params.uniqueHistory&&D&&a.refreshPreviousPage()}b=b||{};var d,e,g,i,j,k,l,m,n,o=b.url,p=b.content,q={content:b.content},r=b.template,s=b.pageName,t=h(a.container),u=h(a.pagesContainer),v=b.animatePages,w="undefined"==typeof o&&p||r,x=b.pushState;if("undefined"==typeof v&&(v=a.params.animatePages),f.pluginHook("routerLoad",a,b),(f.params.template7Pages&&"string"==typeof p||r)&&(q=f.router.template7Render(a,b),q.content&&!p&&(p=q.content)),f.router.temporaryDom.innerHTML="",!s)if(o||"string"==typeof p)f.router.temporaryDom.innerHTML=q.content;else if("length"in p&&p.length>1)for(var y=0;y<p.length;y++)h(f.router.temporaryDom).append(p[y]);else h(f.router.temporaryDom).append(p);if(n=b.reload&&(b.reloadPrevious?"left":"center"),d=s?u.find('.page[data-page="'+s+'"]'):f.router.findElement(".page",f.router.temporaryDom,a),!d||0===d.length||s&&a.activePage&&a.activePage.name===s)return void(a.allowPageChange=!0);if(d.addClass(b.reload?"page-on-"+n:"page-on-right"),g=u.children(".page:not(.cached)"),b.reload&&b.reloadPrevious&&1===g.length)return void(a.allowPageChange=!0);if(b.reload)e=g.eq(g.length-1);else{if(g.length>1){for(i=0;i<g.length-2;i++)a.params.domCache?h(g[i]).addClass("cached"):(f.pageRemoveCallback(a,g[i],"left"),h(g[i]).remove());a.params.domCache?h(g[i]).addClass("cached"):(f.pageRemoveCallback(a,g[i],"left"),h(g[i]).remove())}e=u.children(".page:not(.cached)")}if(a.params.domCache&&d.removeClass("cached"),a.params.dynamicNavbar)if(m=!0,k=s?t.find('.navbar-inner[data-page="'+s+'"]'):f.router.findElement(".navbar-inner",f.router.temporaryDom,a),k&&0!==k.length||(m=!1),l=t.find(".navbar"),b.reload)j=l.find(".navbar-inner:not(.cached):last-child");else if(j=l.find(".navbar-inner:not(.cached)"),j.length>0){for(i=0;i<j.length-1;i++)a.params.domCache?h(j[i]).addClass("cached"):h(j[i]).remove();k||1!==j.length||(a.params.domCache?h(j[0]).addClass("cached"):h(j[0]).remove()),j=l.find(".navbar-inner:not(.cached)")}if(m&&(k.addClass(b.reload?"navbar-on-"+n:"navbar-on-right"),a.params.domCache&&k.removeClass("cached"),d[0].f7RelatedNavbar=k[0],k[0].f7RelatedPage=d[0]),!o){var z=s||d.attr("data-page");o=w?"#"+f.params.dynamicPageUrl.replace(/{{name}}/g,z).replace(/{{index}}/g,a.history.length-(b.reload?1:0)):"#"+z,a.params.domCache||(a.contentCache[o]=p),a.params.domCache&&s&&(a.pagesCache[o]=s)}if(f.params.pushState&&!b.reloadPrevious&&a.main){"undefined"==typeof x&&(x=!0);
var A=f.params.pushStateRoot||"",B=b.reload?"replaceState":"pushState";x&&(w||s?w&&p?history[B]({content:p,url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o):s&&history[B]({pageName:s,url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o):history[B]({url:o,viewIndex:f.views.indexOf(a)},"",A+f.params.pushStateSeparator+o))}if(a.url=o,b.reload){var C=a.history[a.history.length-(b.reloadPrevious?2:1)];C&&0===C.indexOf("#")&&C in a.contentCache&&C!==o&&(a.contentCache[C]=null,delete a.contentCache[C]),a.history[a.history.length-(b.reloadPrevious?2:1)]=o}else a.history.push(o);var D=!1;if(a.params.uniqueHistory){var E=a.history,F=o;if(a.params.uniqueHistoryIgnoreGetParameters)for(E=[],F=o.split("?")[0],i=0;i<a.history.length;i++)E.push(a.history[i].split("?")[0]);E.indexOf(F)!==E.lastIndexOf(F)&&(a.history=a.history.slice(0,E.indexOf(F)),a.history.push(o),D=!0)}if(b.reloadPrevious?(e=e.prev(".page"),d.insertBefore(e),m&&(j=j.prev(".navbar-inner"),k.insertAfter(j))):(u.append(d[0]),m&&l.append(k[0])),b.reload&&(a.params.domCache&&a.initialPages.indexOf(e[0])>=0?(e.addClass("cached"),m&&j.addClass("cached")):(f.pageRemoveCallback(a,e[0],n),e.remove(),m&&j.remove())),f.pageInitCallback(a,{pageContainer:d[0],url:o,position:b.reload?n:"right",navbarInnerContainer:m?k[0]:void 0,context:q.context}),m&&f.navbarInitCallback(a,d[0],l[0],k[0],o,b.reload?n:"right"),b.reload)return a.allowPageChange=!0,void(D&&a.refreshPreviousPage());m&&v&&f.router.prepareNavbar(k,j,"right");d[0].clientLeft;f.pageAnimCallbacks("before",a,{pageContainer:d[0],url:o,position:"right",oldPage:e,newPage:d,context:q.context}),v?(f.router.animatePages(e,d,"to-left",a),m&&setTimeout(function(){f.router.animateNavbars(j,k,"to-left",a)},0),d.animationEnd(function(){c()})):c()},f.router.load=function(a,b){function c(c){f.router.preprocess(c,d,function(c){b.content=c,f.router._load(a,b)})}b=b||{};var d=b.url,e=b.content,g=b.pageName,h=b.template;return a.params.reloadPages===!0&&(b.reload=!0),a.allowPageChange&&(!d||a.url!==d||b.reload||a.params.allowDuplicateUrls)?(a.allowPageChange=!1,f.xhr&&a.xhr&&a.xhr===f.xhr&&(f.xhr.abort(),f.xhr=!1),e||g?void c(e):h?void f.router._load(a,b):b.url&&"#"!==b.url?void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)}):void(a.allowPageChange=!0)):!1},f.router._back=function(a,b){function c(){f.pageBackCallbacks("after",a,{pageContainer:i[0],url:p,position:"center",oldPage:i,newPage:j,context:r.context}),f.pageAnimCallbacks("after",a,{pageContainer:j[0],url:p,position:"left",oldPage:i,newPage:j,context:r.context}),f.router.afterBack(a,i[0],j[0])}function d(){f.pageBackCallbacks("before",a,{pageContainer:i[0],url:p,position:"center",oldPage:i,newPage:j,context:r.context}),f.pageAnimCallbacks("before",a,{pageContainer:j[0],url:p,position:"left",oldPage:i,newPage:j,context:r.context}),t?(f.router.animatePages(j,i,"to-right",a),o&&setTimeout(function(){f.router.animateNavbars(l,k,"to-right",a)},0),j.animationEnd(function(){c()})):(l.find(".sliding, .sliding .back .icon").transform(""),c())}function e(){if(f.router.temporaryDom.innerHTML="",p||"string"==typeof q)f.router.temporaryDom.innerHTML=r.content;else if("length"in q&&q.length>1)for(var b=0;b<q.length;b++)h(f.router.temporaryDom).append(q[b]);else h(f.router.temporaryDom).append(q);j=f.router.findElement(".page",f.router.temporaryDom,a),a.params.dynamicNavbar&&(l=f.router.findElement(".navbar-inner",f.router.temporaryDom,a))}function g(){if(!j||0===j.length)return void(a.allowPageChange=!0);if(a.params.dynamicNavbar&&"undefined"==typeof o&&(o=l&&0!==l.length?!0:!1),j.addClass("page-on-left").removeClass("cached"),o&&(m=y.find(".navbar"),n=y.find(".navbar-inner:not(.cached)"),l.addClass("navbar-on-left").removeClass("cached")),w){var b,c;b=h(A[A.length-2]),o&&(c=h(b[0]&&b[0].f7RelatedNavbar||n[n.length-2])),a.params.domCache&&a.initialPages.indexOf(b[0])>=0?(b.length&&b[0]!==j[0]&&b.addClass("cached"),o&&c.length&&c[0]!==l[0]&&c.addClass("cached")):(b.length&&b.remove(),o&&c.length&&c.remove()),A=z.children(".page:not(.cached)"),o&&(n=y.find(".navbar-inner:not(.cached)")),a.history.indexOf(p)>=0?a.history=a.history.slice(0,a.history.indexOf(p)+2):a.history[[a.history.length-2]]?a.history[a.history.length-2]=p:a.history.unshift(p)}if(i=h(A[A.length-1]),a.params.domCache&&i[0]===j[0]&&(i=z.children(".page.page-on-center"),0===i.length&&a.activePage&&(i=h(a.activePage.container))),o&&!k&&(k=h(n[n.length-1]),a.params.domCache&&(k[0]===l[0]&&(k=m.children(".navbar-inner.navbar-on-center:not(.cached)")),0===k.length&&(k=m.children('.navbar-inner[data-page="'+i.attr("data-page")+'"]'))),(0===k.length||l[0]===k[0])&&(o=!1)),o&&(B&&l.insertBefore(k),l[0].f7RelatedPage=j[0],j[0].f7RelatedNavbar=l[0]),B&&j.insertBefore(i),f.pageInitCallback(a,{pageContainer:j[0],url:p,position:"left",navbarInnerContainer:o?l[0]:void 0,context:r.context}),o&&f.navbarInitCallback(a,j[0],m[0],l[0],p,"right"),o&&l.hasClass("navbar-on-left")&&t&&f.router.prepareNavbar(l,k,"left"),u)return void(a.allowPageChange=!0);a.url=p;j[0].clientLeft;d()}b=b||{};var i,j,k,l,m,n,o,p=b.url,q=b.content,r={content:b.content},s=b.template,t=b.animatePages,u=b.preloadOnly,v=b.pushState,w=(b.ignoreCache,b.force),x=b.pageName,y=h(a.container),z=h(a.pagesContainer),A=z.children(".page:not(.cached)"),B=!0;return"undefined"==typeof t&&(t=a.params.animatePages),f.pluginHook("routerBack",a,b),(f.params.template7Pages&&"string"==typeof q||s)&&(r=f.router.template7Render(a,b),r.content&&!q&&(q=r.content)),f.params.pushState&&("undefined"==typeof v&&(v=!0),!u&&history.state&&v&&history.back()),A.length>1&&!w?u?void(a.allowPageChange=!0):(a.url=a.history[a.history.length-2],p=a.url,j=h(A[A.length-2]),i=h(A[A.length-1]),a.params.dynamicNavbar&&(o=!0,n=y.find(".navbar-inner:not(.cached)"),l=h(n[0]),k=h(n[1]),(0===l.length||0===k.length||k[0]===l[0])&&(o=!1)),B=!1,void g()):w?p&&p===a.url||x&&a.activePage&&a.activePage.name===x?void(a.allowPageChange=!0):q?(e(),void g()):x&&a.params.domCache?(x&&(p="#"+x),j=h(y).find('.page[data-page="'+x+'"]'),j[0].f7PageData&&j[0].f7PageData.url&&(p=j[0].f7PageData.url),a.params.dynamicNavbar&&(l=h(y).find('.navbar-inner[data-page="'+x+'"]'),0===l.length&&(l=h(j[0].f7RelatedNavbar))),void g()):void(a.allowPageChange=!0):(u||(a.url=a.history[a.history.length-2],p=a.url),q?(e(),void g()):x?(j=h(y).find('.page[data-page="'+x+'"]'),a.params.dynamicNavbar&&(l=h(y).find('.navbar-inner[data-page="'+x+'"]')),void g()):void(a.allowPageChange=!0))},f.router.back=function(a,b){function c(c){f.router.preprocess(c,d,function(c){b.content=c,f.router._back(a,b)})}b=b||{};var d=b.url,e=b.content,g=b.pageName,i=b.force;if(!a.allowPageChange)return!1;a.allowPageChange=!1,f.xhr&&a.xhr&&a.xhr===f.xhr&&(f.xhr.abort(),f.xhr=!1);var j=h(a.pagesContainer).find(".page:not(.cached)");if(j.length>1&&!i)return void f.router._back(a,b);if(i){if(!d&&e)return void c(e);if(!d&&g)return g&&(d="#"+g),void c();if(d)return void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)})}else{if(d=b.url=a.history[a.history.length-2],!d)return void(a.allowPageChange=!0);if(0===d.indexOf("#")&&a.contentCache[d])return void c(a.contentCache[d]);if(0===d.indexOf("#")&&a.params.domCache)return g||(b.pageName=d.split("#")[1]),void c();if(0!==d.indexOf("#"))return void f.get(b.url,a,b.ignoreCache,function(b,d){return d?void(a.allowPageChange=!0):void c(b)})}a.allowPageChange=!0},f.router.afterBack=function(a,b,c){b=h(b),c=h(c),a.params.domCache&&a.initialPages.indexOf(b[0])>=0?b.removeClass("page-from-center-to-right").addClass("cached"):(b.remove(),f.pageRemoveCallback(a,b[0],"right")),c.removeClass("page-from-left-to-center page-on-left").addClass("page-on-center"),a.allowPageChange=!0;var d,e=a.history.pop();if(a.params.dynamicNavbar){var g=h(a.container).find(".navbar-inner:not(.cached)"),i=h(b[0].f7RelatedNavbar||g[1]);a.params.domCache&&a.initialNavbars.indexOf(i[0])>=0?i.removeClass("navbar-from-center-to-right").addClass("cached"):i.remove(),d=h(g[0]).removeClass("navbar-on-left navbar-from-left-to-center").addClass("navbar-on-center")}if(a.params.domCache&&h(a.container).find(".page.cached").each(function(){var b=h(this),c=(b.index(),b[0].f7PageData&&b[0].f7PageData.url);c&&a.history.indexOf(c)<0&&a.initialPages.indexOf(this)<0&&(b[0].f7RelatedNavbar&&h(b[0].f7RelatedNavbar).remove(),b.remove())}),!a.params.domCache&&e&&e.indexOf("#")>-1&&e in a.contentCache&&(a.contentCache[e]=null,delete a.contentCache[e]),f.params.pushState&&f.pushStateClearQueue(),a.params.preloadPreviousPage)if(a.params.domCache&&a.history.length>1){var j,k,l=a.history[a.history.length-2];l&&a.pagesCache[l]?(j=h(a.container).find('.page[data-page="'+a.pagesCache[l]+'"]'),j.insertBefore(c),d&&(k=h(a.container).find('.navbar-inner[data-page="'+a.pagesCache[l]+'"]'),k.insertBefore(d),k&&0!==k.length||(k=d.prev(".navbar-inner.cached")))):(j=c.prev(".page.cached"),d&&(k=d.prev(".navbar-inner.cached"))),j&&j.length>0&&j.removeClass("cached page-on-right page-on-center").addClass("page-on-left"),k&&k.length>0&&k.removeClass("cached navbar-on-right navbar-on-center").addClass("navbar-on-left")}else f.router.back(a,{preloadOnly:!0})};var m=document.createElement("div");f.modal=function(a){a=a||{};var b="";if(f.params.modalTemplate)f._compiledTemplates.modal||(f._compiledTemplates.modal=i.compile(f.params.modalTemplate)),b=f._compiledTemplates.modal(a);else{var c="";if(a.buttons&&a.buttons.length>0)for(var d=0;d<a.buttons.length;d++)c+='<span class="modal-button'+(a.buttons[d].bold?" modal-button-bold":"")+'">'+a.buttons[d].text+"</span>";var e=a.title?'<div class="modal-title">'+a.title+"</div>":"",g=a.text?'<div class="modal-text">'+a.text+"</div>":"",j=a.afterText?a.afterText:"",k=a.buttons&&0!==a.buttons.length?"":"modal-no-buttons",l=a.verticalButtons?"modal-buttons-vertical":"";b='<div class="modal '+k+'"><div class="modal-inner">'+(e+g+j)+'</div><div class="modal-buttons '+l+'">'+c+"</div></div>"}m.innerHTML=b;var n=h(m).children();return h("body").append(n[0]),n.find(".modal-button").each(function(b,c){h(c).on("click",function(c){a.buttons[b].close!==!1&&f.closeModal(n),a.buttons[b].onClick&&a.buttons[b].onClick(n,c),a.onClick&&a.onClick(n,b)})}),f.openModal(n),n[0]},f.alert=function(a,b,c){return"function"==typeof b&&(c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,buttons:[{text:f.params.modalButtonOk,bold:!0,onClick:c}]})},f.confirm=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,buttons:[{text:f.params.modalButtonCancel,onClick:d},{text:f.params.modalButtonOk,bold:!0,onClick:c}]})},f.prompt=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="text" class="modal-text-input">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){0===b&&d&&d(h(a).find(".modal-text-input").val()),1===b&&c&&c(h(a).find(".modal-text-input").val())}})},f.modalLogin=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="text" name="modal-username" placeholder="'+f.params.modalUsernamePlaceholder+'" class="modal-text-input modal-text-input-double"><input type="password" name="modal-password" placeholder="'+f.params.modalPasswordPlaceholder+'" class="modal-text-input modal-text-input-double">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=h(a).find('.modal-text-input[name="modal-username"]').val(),f=h(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e,f),1===b&&c&&c(e,f)}})},f.modalPassword=function(a,b,c,d){return"function"==typeof b&&(d=arguments[2],c=arguments[1],b=void 0),f.modal({text:a||"",title:"undefined"==typeof b?f.params.modalTitle:b,afterText:'<input type="password" name="modal-password" placeholder="'+f.params.modalPasswordPlaceholder+'" class="modal-text-input">',buttons:[{text:f.params.modalButtonCancel},{text:f.params.modalButtonOk,bold:!0}],onClick:function(a,b){var e=h(a).find('.modal-text-input[name="modal-password"]').val();0===b&&d&&d(e),1===b&&c&&c(e)}})},f.showPreloader=function(a){return f.modal({title:a||f.params.modalPreloaderTitle,text:'<div class="preloader"></div>'})},f.hidePreloader=function(){f.closeModal(".modal.modal-in")},f.showIndicator=function(){h("body").append('<div class="preloader-indicator-overlay"></div><div class="preloader-indicator-modal"><span class="preloader preloader-white"></span></div>')},f.hideIndicator=function(){h(".preloader-indicator-overlay, .preloader-indicator-modal").remove()},f.actions=function(a,b){var c,d,e,g=!1;1===arguments.length?b=a:f.device.ios?f.device.ipad&&(g=!0):h(window).width()>=768&&(g=!0),b=b||[],b.length>0&&!h.isArray(b[0])&&(b=[b]);var j;if(g){var k='<div class="popover actions-popover"><div class="popover-inner">{{#each this}}<div class="list-block"><ul>{{#each this}}{{#if label}}<li class="actions-popover-label {{#if color}}color-{{color}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</li>{{else}}<li><a href="#" class="item-link list-button {{#if color}}color-{{color}}{{/if}} {{#if bg}}bg-{{bg}}{{/if}} {{#if bold}}actions-popover-bold{{/if}}">{{text}}</a></li>{{/if}}{{/each}}</ul></div>{{/each}}</div></div>';f._compiledTemplates.actionsPopover||(f._compiledTemplates.actionsPopover=i.compile(k));var l=f._compiledTemplates.actionsPopover(b);c=h(f.popover(l,a,!0)),d=".list-block ul",e=".list-button"}else{if(f.params.modalActionsTemplate)f._compiledTemplates.actions||(f._compiledTemplates.actions=i.compile(f.params.modalActionsTemplate)),j=f._compiledTemplates.actions(b);else{for(var n="",o=0;o<b.length;o++)for(var p=0;p<b[o].length;p++){0===p&&(n+='<div class="actions-modal-group">');var q=b[o][p],r=q.label?"actions-modal-label":"actions-modal-button";q.bold&&(r+=" actions-modal-button-bold"),q.color&&(r+=" color-"+q.color),q.bg&&(r+=" bg-"+q.bg),n+='<span class="'+r+'">'+q.text+"</span>",p===b[o].length-1&&(n+="</div>")}j='<div class="actions-modal">'+n+"</div>"}m.innerHTML=j,c=h(m).children(),h("body").append(c[0]),d=".actions-modal-group",e=".actions-modal-button"}var s=c.find(d);return s.each(function(a,d){var i=a;h(d).children().each(function(a,d){var j,k=a,l=b[i][k];!g&&h(d).is(e)&&(j=h(d)),g&&h(d).find(e).length>0&&(j=h(d).find(e)),j&&j.on("click",function(a){l.close!==!1&&f.closeModal(c),l.onClick&&l.onClick(c,a)})})}),g||f.openModal(c),c[0]},f.popover=function(a,b,c){function d(){a.css({left:"",top:""});var c,d,e=a.width(),f=a.height(),g=a.find(".popover-angle"),i=g.width()/2;g.removeClass("on-left on-right on-top on-bottom").css({left:"",top:""});var j=b.outerWidth(),k=b.outerHeight(),l=b.offset(),m=b.parents(".page");m.length>0&&(l.top=l.top-m[0].scrollTop);var n=h(window).height(),o=h(window).width(),p=0,q=0,r=0,s="top";f+i<l.top?p=l.top-f-i:f+i<n-l.top-k?(s="bottom",p=l.top+k+i):(s="middle",p=k/2+l.top-f/2,r=p,0>p?p=5:p+f>n&&(p=n-f-5),r-=p),"top"===s||"bottom"===s?(q=j/2+l.left-e/2,r=q,5>q&&(q=5),q+e>o&&(q=o-e-5),"top"===s&&g.addClass("on-bottom"),"bottom"===s&&g.addClass("on-top"),r-=q,c=e/2-i+r,c=Math.max(Math.min(c,e-2*i-6),6),g.css({left:c+"px"})):"middle"===s&&(q=l.left-e-i,g.addClass("on-right"),5>q&&(q=l.left+j+i,g.removeClass("on-right").addClass("on-left")),q+e>o&&(q=o-e-5,g.removeClass("on-right").addClass("on-left")),d=f/2-i+r,d=Math.max(Math.min(d,f-2*i-6),6),g.css({top:d+"px"})),a.css({top:p+"px",left:q+"px"})}if("undefined"==typeof c&&(c=!0),"string"==typeof a&&a.indexOf("<")>=0){var e=document.createElement("div");if(e.innerHTML=a.trim(),!(e.childNodes.length>0))return!1;a=e.childNodes[0],c&&a.classList.add("remove-on-close"),h("body").append(a)}return a=h(a),b=h(b),0===a.length||0===b.length?!1:(0===a.find(".popover-angle").length&&a.append('<div class="popover-angle"></div>'),a.show(),d(),h(window).on("resize",d),a.on("close",function(){h(window).off("resize",d)}),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.popup=function(a,b){if("undefined"==typeof b&&(b=!0),"string"==typeof a&&a.indexOf("<")>=0){var c=document.createElement("div");if(c.innerHTML=a.trim(),!(c.childNodes.length>0))return!1;a=c.childNodes[0],b&&a.classList.add("remove-on-close"),h("body").append(a)}return a=h(a),0===a.length?!1:(a.show(),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.loginScreen=function(a){return a||(a=".login-screen"),a=h(a),0===a.length?!1:(a.show(),a.find("."+f.params.viewClass).length>0&&f.sizeNavbars(a.find("."+f.params.viewClass)[0]),f.openModal(a),a[0])},f.openModal=function(a){a=h(a);var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen");b||c||d||a.css({marginTop:-Math.round(a.outerHeight()/2)+"px"});var e;d||(0!==h(".modal-overlay").length||c||h("body").append('<div class="modal-overlay"></div>'),0===h(".popup-overlay").length&&c&&h("body").append('<div class="popup-overlay"></div>'),e=h(c?".popup-overlay":".modal-overlay"));a[0].clientLeft;return a.trigger("open"),d||e.addClass("modal-overlay-visible"),a.removeClass("modal-out").addClass("modal-in").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened")}),!0},f.closeModal=function(a){if(a=h(a||".modal-in"),"undefined"==typeof a||0!==a.length){var b=a.hasClass("popover"),c=a.hasClass("popup"),d=a.hasClass("login-screen"),e=a.hasClass("remove-on-close"),f=h(c?".popup-overlay":".modal-overlay");return c?a.length===h(".popup.modal-in").length&&f.removeClass("modal-overlay-visible"):f.removeClass("modal-overlay-visible"),a.trigger("close"),b?(a.removeClass("modal-in modal-out").trigger("closed").hide(),e&&a.remove()):a.removeClass("modal-in").addClass("modal-out").transitionEnd(function(){a.trigger(a.hasClass("modal-out")?"closed":"opened"),c||d?(a.removeClass("modal-out").hide(),e&&a.length>0&&a.remove()):a.remove()}),!0}},f.allowPanelOpen=!0,f.openPanel=function(a){function b(){e.transitionEnd(function(a){h(a.target).is(e)?(c.trigger(c.hasClass("active")?"opened":"closed"),f.allowPanelOpen=!0):b()})}if(!f.allowPanelOpen)return!1;var c=h(".panel-"+a);if(0===c.length||c.hasClass("active"))return!1;f.closePanel(),f.allowPanelOpen=!1;var d=c.hasClass("panel-reveal")?"reveal":"cover";c.css({display:"block"}).addClass("active"),c.trigger("open"),c.find("."+f.params.viewClass).length>0&&f.sizeNavbars&&f.sizeNavbars(c.find("."+f.params.viewClass)[0]);var e=(c[0].clientLeft,"reveal"===d?h("."+f.params.viewsClass):c);return b(),h("body").addClass("with-panel-"+a+"-"+d),!0},f.closePanel=function(){var a=h(".panel.active");if(0===a.length)return!1;var b=a.hasClass("panel-reveal")?"reveal":"cover",c=a.hasClass("panel-left")?"left":"right";a.removeClass("active");var d="reveal"===b?h("."+f.params.viewsClass):a;a.trigger("close"),f.allowPanelOpen=!1,d.transitionEnd(function(){a.hasClass("active")||(a.css({display:""}),a.trigger("closed"),h("body").removeClass("panel-closing"),f.allowPanelOpen=!0)}),h("body").addClass("panel-closing").removeClass("with-panel-"+c+"-"+b)},f.initSwipePanels=function(){function a(a){if(f.allowPanelOpen&&(f.params.swipePanel||f.params.swipePanelOnlyClose)&&!g&&!(h(".modal-in, .photo-browser-in").length>0||!f.params.swipePanelCloseOpposite&&!f.params.swipePanelOnlyClose&&h(".panel.active").length>0&&!d.hasClass("active"))){if(s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,(f.params.swipePanelCloseOpposite||f.params.swipePanelOnlyClose)&&(e=h(".panel.active").length>0?h(".panel.active").hasClass("panel-left")?"left":"right":f.params.swipePanel),d=h(".panel.panel-"+e),n=d.hasClass("active"),f.params.swipePanelActiveArea&&!n){if("left"===e&&s.x>f.params.swipePanelActiveArea)return;if("right"===e&&s.x<window.innerWidth-f.params.swipePanelActiveArea)return}i=!1,g=!0,j=void 0,k=(new Date).getTime(),q=void 0}}function b(a){if(g&&!a.f7PreventPanelSwipe){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof j&&(j=!!(j||Math.abs(c-s.y)>Math.abs(b-s.x))),j)return void(g=!1);if(!q&&(q=b>s.x?"to-right":"to-left","left"===e&&"to-left"===q&&!d.hasClass("active")||"right"===e&&"to-right"===q&&!d.hasClass("active")))return void(g=!1);if(f.params.swipePanelNoFollow){var h=(new Date).getTime()-k;return 300>h&&("to-left"===q&&("right"===e&&f.openPanel(e),"left"===e&&d.hasClass("active")&&f.closePanel()),"to-right"===q&&("left"===e&&f.openPanel(e),"right"===e&&d.hasClass("active")&&f.closePanel())),g=!1,void(i=!1)}i||(p=d.hasClass("panel-cover")?"cover":"reveal",n||(d.show(),r.show()),o=d[0].offsetWidth,d.transition(0),d.find("."+f.params.viewClass).length>0&&f.sizeNavbars&&f.sizeNavbars(d.find("."+f.params.viewClass)[0])),i=!0,a.preventDefault();var u=n?0:-f.params.swipePanelThreshold;"right"===e&&(u=-u),l=b-s.x+u,"right"===e?(m=l-(n?o:0),m>0&&(m=0),-o>m&&(m=-o)):(m=l+(n?o:0),0>m&&(m=0),m>o&&(m=o)),"reveal"===p?(t.transform("translate3d("+m+"px,0,0)").transition(0),r.transform("translate3d("+m+"px,0,0)"),f.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(m/o))):(d.transform("translate3d("+m+"px,0,0)").transition(0),f.pluginHook("swipePanelSetTransform",t[0],d[0],Math.abs(m/o)))}}function c(){if(!g||!i)return g=!1,void(i=!1);g=!1,i=!1;var a,b=(new Date).getTime()-k,c=0===m||Math.abs(m)===o;if(a=n?m===-o?"reset":300>b&&Math.abs(m)>=0||b>=300&&Math.abs(m)<=o/2?"left"===e&&m===o?"reset":"swap":"reset":0===m?"reset":300>b&&Math.abs(m)>0||b>=300&&Math.abs(m)>=o/2?"swap":"reset","swap"===a&&(f.allowPanelOpen=!0,n?(f.closePanel(),c&&(d.css({display:""}),h("body").removeClass("panel-closing"))):f.openPanel(e),c&&(f.allowPanelOpen=!0)),"reset"===a)if(n)f.allowPanelOpen=!0,f.openPanel(e);else if(f.closePanel(),c)f.allowPanelOpen=!0,d.css({display:""});else{var j="reveal"===p?t:d;h("body").addClass("panel-closing"),j.transitionEnd(function(){f.allowPanelOpen=!0,d.css({display:""}),h("body").removeClass("panel-closing")})}"reveal"===p&&(t.transition(""),t.transform("")),d.transition("").transform(""),r.css({display:""}).transform("")}var d,e;if(f.params.swipePanel){if(d=h(".panel.panel-"+f.params.swipePanel),e=f.params.swipePanel,0===d.length)return}else{if(!f.params.swipePanelOnlyClose)return;if(0===h(".panel").length)return}var g,i,j,k,l,m,n,o,p,q,r=h(".panel-overlay"),s={},t=h("."+f.params.viewsClass);h(document).on(f.touchEvents.start,a),h(document).on(f.touchEvents.move,b),h(document).on(f.touchEvents.end,c)},f.initMessages=function(a){var b=h(a),c=b.find(".messages");if(0!==c.length){var d=b.find(".page-content");c.hasClass("messages-auto-layout")&&f.updateMessagesLayout(c),c.hasClass("new-messages-first")||(d[0].scrollTop=d[0].scrollHeight-d[0].offsetHeight)}},f.addMessage=function(a){if(a=a||{},a.type=a.type||"sent",!a.text||0===a.length)return!1;var b=h(".messages-content");if(0===b.length)return!1;var c=b.find(".messages"),d=c.hasClass("new-messages-first"),e="";a.day&&(e+='<div class="messages-date">'+a.day+(a.time?",":"")+(a.time?" <span>"+a.time+"</span>":"")+"</div>");var g=a.text.indexOf("<img")>=0?"message-pic":"",i=a.avatar?"message-with-avatar":"",j="message message-"+a.type+" "+g+" "+i+" message-appear";e+='<div class="'+j+'">'+(a.name?'<div class="message-name">'+a.name+"</div>":"")+'<div class="message-text">'+a.text+"</div>"+(a.avatar?'<div class="message-avatar" style="background-image:url('+a.avatar+')"></div>':"")+(a.label?'<div class="message-label">'+a.label+"</div>":"")+"</div>",d?c.prepend(e):c.append(e),c.hasClass("messages-auto-layout")&&f.updateMessagesLayout(c),f.scrollMessagesContainer(b)},f.updateMessagesLayout=function(a){a.find(".message").each(function(){var a=h(this);a.find(".message-text img").length>0&&a.addClass("message-pic"),a.find(".message-avatar").length>0&&a.addClass("message-with-avatar")}),a.find(".message-sent").each(function(){var a=h(this),b=a.next(".message-sent"),c=a.prev(".message-sent");0===b.length?a.addClass("message-last message-with-tail"):a.removeClass("message-last message-with-tail"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last message-with-tail"),a.addClass("message-first"))}),a.find(".message-received").each(function(){var a=h(this),b=a.next(".message-received"),c=a.prev(".message-received");0===b.length?a.addClass("message-last message-with-tail"):a.removeClass("message-last message-with-tail"),0===c.length?a.addClass("message-first"):a.removeClass("message-first"),c.length>0&&c.find(".message-name").length>0&&a.find(".message-name").length>0&&c.find(".message-name").text()!==a.find(".message-name").text()&&(c.addClass("message-last message-with-tail"),a.addClass("message-first"))})},f.scrollMessagesContainer=function(a){if(a=h(a||".messages-content"),0!==a.length){var b=a.find(".messages"),c=b.hasClass("new-messages-first"),d=a[0].scrollTop,e=c?0:a[0].scrollHeight-a[0].offsetHeight;e!==d&&a.scrollTop(e,300)}},f.swipeoutOpenedEl=void 0,f.allowSwipeout=!0,f.initSwipeout=function(a){function b(a){f.allowSwipeout&&(g=!1,e=!0,i=void 0,D.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,D.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=(new Date).getTime())}function c(a){if(e){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof i&&(i=!!(i||Math.abs(c-D.y)>Math.abs(b-D.x))),i)return void(e=!1);if(!g){if(h(".list-block.sortable-opened").length>0)return;l=h(this),m=l.find(".swipeout-content"),n=l.find(".swipeout-actions-right"),o=l.find(".swipeout-actions-left"),p=q=u=v=y=x=null,B=o.hasClass("swipeout-actions-no-fold")||f.params.swipeoutActionsNoFold,C=n.hasClass("swipeout-actions-no-fold")||f.params.swipeoutActionsNoFold,o.length>0&&(p=o.outerWidth(),u=o.children("a"),x=o.find(".swipeout-overswipe")),n.length>0&&(q=n.outerWidth(),v=n.children("a"),y=n.find(".swipeout-overswipe")),s=l.hasClass("swipeout-opened"),s&&(t=l.find(".swipeout-actions-left.swipeout-actions-opened").length>0?"left":"right"),l.removeClass("transitioning"),f.params.swipeoutNoFollow||(l.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),l.removeClass("swipeout-opened"))}if(g=!0,a.preventDefault(),k=b-D.x,r=k,s&&("right"===t?r-=q:r+=p),r>0&&0===o.length||0>r&&0===n.length){if(!s)return void(e=g=!1);r=0}w=0>r?"to-left":r>0?"to-right":w?w:"to-left";var d,j,E;if(a.f7PreventPanelSwipe=!0,f.params.swipeoutNoFollow)return s?("right"===t&&k>0&&f.swipeoutClose(l),"left"===t&&0>k&&f.swipeoutClose(l)):(0>k&&n.length>0&&f.swipeoutOpen(l,"right"),k>0&&o.length>0&&f.swipeoutOpen(l,"left")),e=!1,void(g=!1);z=!1,A=!1;var F;if(n.length>0)for(E=r/q,-q>r&&(r=-q-Math.pow(-r-q,.8),y.length>0&&(A=!0)),d=0;d<v.length;d++)"undefined"==typeof v[d]._buttonOffset&&(v[d]._buttonOffset=v[d].offsetLeft),j=v[d]._buttonOffset,F=h(v[d]),y.length>0&&F.hasClass("swipeout-overswipe")&&F.css({left:(A?-j:0)+"px"}),F.transform("translate3d("+(r-j*(1+Math.max(E,-1)))+"px,0,0)");if(o.length>0)for(E=r/p,r>p&&(r=p+Math.pow(r-p,.8),x.length>0&&(z=!0)),d=0;d<u.length;d++)"undefined"==typeof u[d]._buttonOffset&&(u[d]._buttonOffset=p-u[d].offsetLeft-u[d].offsetWidth),j=u[d]._buttonOffset,F=h(u[d]),x.length>0&&F.hasClass("swipeout-overswipe")&&F.css({left:(z?j:0)+"px"}),u.length>1&&F.css("z-index",u.length-d),F.transform("translate3d("+(r+j*(1-Math.min(E,1)))+"px,0,0)");m.transform("translate3d("+r+"px,0,0)")}}function d(){if(!e||!g)return e=!1,void(g=!1);e=!1,g=!1;var a,b,c,d,i,t,x=(new Date).getTime()-j;if(t="to-left"===w?C:B,c="to-left"===w?n:o,b="to-left"===w?q:p,a=300>x&&(-10>k&&"to-left"===w||k>10&&"to-right"===w)||x>=300&&Math.abs(r)>b/2?"open":"close",300>x&&(0===Math.abs(r)&&(a="close"),Math.abs(r)===b&&(a="open")),"open"===a){f.swipeoutOpenedEl=l,l.trigger("open"),l.addClass("swipeout-opened transitioning");var y="to-left"===w?-b:b;if(m.transform("translate3d("+y+"px,0,0)"),c.addClass("swipeout-actions-opened"),d="to-left"===w?v:u)for(i=0;i<d.length;i++)h(d[i]).transform("translate3d("+y+"px,0,0)");A&&n.find(".swipeout-overswipe")[0].click(),z&&o.find(".swipeout-overswipe")[0].click()}else l.trigger("close"),f.swipeoutOpenedEl=void 0,l.addClass("transitioning").removeClass("swipeout-opened"),m.transform(""),c.removeClass("swipeout-actions-opened");var D;if(u&&u.length>0&&u!==d)for(i=0;i<u.length;i++)D=u[i]._buttonOffset,"undefined"==typeof D&&(u[i]._buttonOffset=p-u[i].offsetLeft-u[i].offsetWidth),h(u[i]).transform("translate3d("+D+"px,0,0)");if(v&&v.length>0&&v!==d)for(i=0;i<v.length;i++)D=v[i]._buttonOffset,"undefined"==typeof D&&(v[i]._buttonOffset=v[i].offsetLeft),h(v[i]).transform("translate3d("+-D+"px,0,0)");m.transitionEnd(function(){s&&"open"===a||closed&&"close"===a||(l.trigger("open"===a?"opened":"closed"),s&&"close"===a&&(n.length>0&&v.transform(""),o.length>0&&u.transform("")))})}var e,g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D={};h(document).on(f.touchEvents.start,function(a){if(f.swipeoutOpenedEl){var b=h(a.target);f.swipeoutOpenedEl.is(b[0])||b.parents(".swipeout").is(f.swipeoutOpenedEl)||b.hasClass("modal-in")||b.parents(".modal.modal-in").length>0||b.hasClass("modal-overlay")||f.swipeoutClose(f.swipeoutOpenedEl)}}),a?(h(a).on(f.touchEvents.start,b),h(a).on(f.touchEvents.move,c),h(a).on(f.touchEvents.end,d)):(h(document).on(f.touchEvents.start,".list-block li.swipeout",b),h(document).on(f.touchEvents.move,".list-block li.swipeout",c),h(document).on(f.touchEvents.end,".list-block li.swipeout",d))},f.swipeoutOpen=function(a,b){if(a=h(a),0!==a.length&&(a.length>1&&(a=h(a[0])),a.hasClass("swipeout")&&!a.hasClass("swipeout-opened"))){b||(b=a.find(".swipeout-actions-right").length>0?"right":"left");var c=a.find(".swipeout-actions-"+b);if(0!==c.length){{c.hasClass("swipeout-actions-no-fold")||f.params.swipeoutActionsNoFold}a.trigger("open").addClass("swipeout-opened").removeClass("transitioning"),c.addClass("swipeout-actions-opened");var d,e=c.children("a"),g=c.outerWidth(),i="right"===b?-g:g;if(e.length>1){for(d=0;d<e.length;d++)"right"===b?h(e[d]).transform("translate3d("+-e[d].offsetLeft+"px,0,0)"):h(e[d]).css("z-index",e.length-d).transform("translate3d("+(g-e[d].offsetWidth-e[d].offsetLeft)+"px,0,0)");{e[1].clientLeft}}for(a.addClass("transitioning"),d=0;d<e.length;d++)h(e[d]).transform("translate3d("+i+"px,0,0)");a.find(".swipeout-content").transform("translate3d("+i+"px,0,0)").transitionEnd(function(){a.trigger("opened")}),f.swipeoutOpenedEl=a}}},f.swipeoutClose=function(a){if(a=h(a),0!==a.length&&a.hasClass("swipeout-opened")){var b=a.find(".swipeout-actions-opened").hasClass("swipeout-actions-right")?"right":"left",c=a.find(".swipeout-actions-opened").removeClass("swipeout-actions-opened"),d=(c.hasClass("swipeout-actions-no-fold")||f.params.swipeoutActionsNoFold,c.children("a")),e=c.outerWidth();f.allowSwipeout=!1,a.trigger("close"),a.removeClass("swipeout-opened").addClass("transitioning"),a.find(".swipeout-content").transform("translate3d(0px,0,0)").transitionEnd(function(){a.trigger("closed"),d.transform(""),f.allowSwipeout=!0});for(var g=0;g<d.length;g++)h(d[g]).transform("right"===b?"translate3d("+-d[g].offsetLeft+"px,0,0)":"translate3d("+(e-d[g].offsetWidth-d[g].offsetLeft)+"px,0,0)"),h(d[g]).css({left:"0px"});f.swipeoutOpenedEl&&f.swipeoutOpenedEl[0]===a[0]&&(f.swipeoutOpenedEl=void 0)}},f.swipeoutDelete=function(a){if(a=h(a),0!==a.length){a.length>1&&(a=h(a[0])),f.swipeoutOpenedEl=void 0,a.trigger("delete"),a.css({height:a.outerHeight()+"px"});
{a[0].clientLeft}a.css({height:"0px"}).addClass("deleting transitioning").transitionEnd(function(){if(a.trigger("deleted"),a.parents(".virtual-list").length>0){var b=a.parents(".virtual-list")[0].f7VirtualList,c=a[0].f7VirtualListIndex;b&&"undefined"!=typeof c&&b.deleteItem(c)}else a.remove()});var b="-100%";a.find(".swipeout-content").transform("translate3d("+b+",0,0)")}},f.sortableToggle=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.toggleClass("sortable-opened"),a.trigger(a.hasClass("sortable-opened")?"open":"close"),a},f.sortableOpen=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.addClass("sortable-opened"),a.trigger("open"),a},f.sortableClose=function(a){return a=h(a),0===a.length&&(a=h(".list-block.sortable")),a.removeClass("sortable-opened"),a.trigger("close"),a},f.initSortable=function(){function a(a){e=!1,d=!0,g="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,j=h(this).parent(),l=j.parent().find("li"),q=j.parents(".sortable"),a.preventDefault(),f.allowPanelOpen=f.allowSwipeout=!1}function b(a){if(d&&j){var b=("touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,"touchmove"===a.type?a.targetTouches[0].pageY:a.pageY);e||(j.addClass("sorting"),q.addClass("sortable-sorting"),m=j[0].offsetTop,n=j.parent().height()-j[0].offsetTop-j.height(),k=j[0].offsetHeight),e=!0,a.preventDefault(),a.f7PreventPanelSwipe=!0,i=b-g;var c=i;-m>c&&(c=-m),c>n&&(c=n),j.transform("translate3d(0,"+c+"px,0)"),p=o=void 0,l.each(function(){var a=h(this);if(a[0]!==j[0]){var b=a[0].offsetTop,d=a.height(),e=j[0].offsetTop+c;e>=b-d/2&&j.index()<a.index()?(a.transform("translate3d(0, "+-k+"px,0)"),o=a,p=void 0):b+d/2>=e&&j.index()>a.index()?(a.transform("translate3d(0, "+k+"px,0)"),o=void 0,p||(p=a)):h(this).transform("translate3d(0, 0%,0)")}})}}function c(a){if(f.allowPanelOpen=f.allowSwipeout=!0,!d||!e)return d=!1,void(e=!1);a.preventDefault(),l.transform(""),j.removeClass("sorting"),q.removeClass("sortable-sorting");var b,c,g;o&&(j.insertAfter(o),j.trigger("sort")),p&&(j.insertBefore(p),j.trigger("sort")),(o||p)&&q.hasClass("virtual-list")&&(b=q[0].f7VirtualList,c=j[0].f7VirtualListIndex,g=p?p[0].f7VirtualListIndex:o[0].f7VirtualListIndex,b&&b.moveItem(c,g)),o=p=void 0,d=!1,e=!1}var d,e,g,i,j,k,l,m,n,o,p,q;h(document).on(f.touchEvents.start,".list-block.sortable .sortable-handler",a),f.support.touch?(h(document).on(f.touchEvents.move,".list-block.sortable .sortable-handler",b),h(document).on(f.touchEvents.end,".list-block.sortable .sortable-handler",c)):(h(document).on(f.touchEvents.move,b),h(document).on(f.touchEvents.end,c))},f.initSmartSelects=function(a){var b=h(a);if(0!==b.length){var c=b.find(".smart-select");0!==c.length&&c.each(function(){var a=h(this),b=a.find("select");if(0!==b.length){var c=b[0];if(0!==c.length){for(var d=[],e=0;e<c.length;e++)c[e].selected&&d.push(c[e].textContent.trim());var f=a.find(".item-after");0===f.length?a.find(".item-inner").append('<div class="item-after">'+d.join(", ")+"</div>"):f.text(d)}}})}},f.smartSelectOpen=function(a){function b(b){if(o){var c=f.virtualList(h(b).find(".virtual-list"),{items:A,template:F,height:p||void 0,searchByItem:function(a,b,c){return c.text.toLowerCase().indexOf(a.trim())>=0?!0:!1}});h(b).once("popup"===e?"closed":"pageBeforeRemove",function(){c&&c.destroy&&c.destroy()})}h(b).on("change",'input[name="'+D+'"]',function(){var b=this,c=b.value,g=[];if("checkbox"===b.type)for(var h=0;h<q.options.length;h++){var i=q.options[h];i.value===c&&(i.selected=b.checked),i.selected&&g.push(i.textContent.trim())}else g=[a.find('option[value="'+c+'"]').text()],q.value=c;r.trigger("change"),a.find(".item-after").text(g.join(", ")),l&&"radio"===C&&("popup"===e?f.closeModal(Q):d.router.back())})}function c(a){var d=a.detail.page;d.name===O&&(h(document).off("pageInit",c),b(d.container))}if(a=h(a),0!==a.length){var d=a.parents("."+f.params.viewClass);if(0!==d.length&&(d=d[0].f7View)){var e=a.attr("data-open-in");e||(e=f.params.smartSelectInPopup?"popup":"page");var g=a.attr("data-page-title")||a.find(".item-title").text(),j=a.attr("data-back-text")||f.params.smartSelectBackText,k=a.attr("data-popup-close-text")||a.attr("data-back-text")||f.params.smartSelectPopupCloseText,l=a.attr("data-back-onselect")?"true"===a.attr("data-back-onselect")?!0:!1:f.params.smartSelectBackOnSelect,m=a.attr("data-form-theme")||f.params.smartSelectFormTheme,n=a.attr("data-navbar-theme")||f.params.smartSelectNavbarTheme,o="true"===a.attr("data-virtual-list"),p=a.attr("data-virtual-list-height"),q=a.find("select")[0],r=h(q);if(!(q.disabled||a.hasClass("disabled")||r.hasClass("disabled"))){for(var s,t,u,v,w,x,y,z,A=[],B=(new Date).getTime(),C=q.multiple?"checkbox":"radio",D=C+"-"+B,E=0;E<q.length;E++)s=h(q[E]),s[0].disabled||(u=s.attr("data-option-image")||r.attr("data-option-image"),v=s.attr("data-option-icon")||r.attr("data-option-icon"),t=u||v||"checkbox"===C,w=s.parent("optgroup")[0],x=w&&w.label,y=!1,w&&w!==z&&(y=!0,z=w),A.push({value:s[0].value,text:s[0].textContent.trim(),selected:s[0].selected,group:w,groupLabel:x,showGroupLabel:y,image:u,icon:v,disabled:s[0].disabled,inputType:C,id:B,hasMedia:t,checkbox:"checkbox"===C,inputName:D,test:this}));f._compiledTemplates.smartSelectItem||(f._compiledTemplates.smartSelectItem=i.compile(f.params.smartSelectItemTemplate||'{{#if showGroupLabel}}<li class="item-divider">{{groupLabel}}</li>{{/if}}<li><label class="label-{{inputType}} item-content"><input type="{{inputType}}" name="{{inputName}}" value="{{value}}" {{#if selected}}checked{{/if}}>{{#if hasMedia}}<div class="item-media">{{#if checkbox}}<i class="icon icon-form-checkbox"></i>{{/if}}{{#if icon}}<i class="icon {{icon}}"></i>{{/if}}{{#if image}}<img src="{{image}}">{{/if}}</div>{{/if}}<div class="item-inner"><div class="item-title">{{text}}</div></div></label></li>'));var F=f._compiledTemplates.smartSelectItem,G="";if(!o)for(var H=0;H<A.length;H++)G+=F(A[H]);f._compiledTemplates.smartSelectNavbar||(f._compiledTemplates.smartSelectNavbar=i.compile(f.params.smartSelectNavbarTemplate||'<div class="navbar {{#if navbarTheme}}theme-{{navbarTheme}}{{/if}}"><div class="navbar-inner">{{leftTemplate}}<div class="center sliding">{{pageTitle}}</div></div></div>'));var I,J=f._compiledTemplates.smartSelectNavbar({pageTitle:g,backText:j,closeText:k,openIn:e,navbarTheme:n,inPopup:"popup"===e,inPage:"page"===e,leftTemplate:"popup"===e?f.params.smartSelectPopupCloseTemplate.replace(/{{closeText}}/g,k):f.params.smartSelectBackTemplate.replace(/{{backText}}/g,j)}),K="",L="";"page"===e?(I="static",a.parents(".navbar-through").length>0&&(I="through"),a.parents(".navbar-fixed").length>0&&(I="fixed"),L=a.parents(".page").hasClass("no-toolbar")?"no-toolbar":"",K=a.parents(".page").hasClass("no-navbar")?"no-navbar":"navbar-"+I):I="fixed";var M,N,O="smart-select-"+D,P="undefined"==typeof a.data("searchbar")?f.params.smartSelectSearchbar:"true"===a.data("searchbar")?!0:!1;P&&(M=a.data("searchbar-placeholder")||"Search",N=a.data("searchbar-cancel")||"Cancel");var Q,R='<form class="searchbar" data-search-list=".smart-select-list-'+B+'" data-search-in=".item-title"><div class="searchbar-input"><input type="search" placeholder="'+M+'"><a href="#" class="searchbar-clear"></a></div><a href="#" class="searchbar-cancel">'+N+'</a></form><div class="searchbar-overlay"></div>',S=("through"===I?J:"")+'<div class="pages">  <div data-page="'+O+'" class="page smart-select-page '+K+" "+L+'">'+("fixed"===I?J:"")+(P?R:"")+'    <div class="page-content">'+("static"===I?J:"")+'      <div class="list-block '+(o?"virtual-list":"")+" smart-select-list-"+B+" "+(m?"theme-"+m:"")+'">        <ul>'+(o?"":G)+"        </ul>      </div>    </div>  </div></div>";"popup"===e?(Q=f.popup('<div class="popup smart-select-popup smart-select-popup-'+D+'"><div class="view navbar-fixed">'+S+"</div></div>"),f.initPage(h(Q).find(".page")),b(Q)):(h(document).on("pageInit",c),d.router.load({content:S}))}}}};var n=function(a,b){var c={cols:1,height:44,cache:!0};b=b||{};for(var d in c)"undefined"==typeof b[d]&&(b[d]=c[d]);var e=this;e.listBlock=h(a),e.params=b,e.items=b.items,b.template&&("string"==typeof b.template?e.template=i.compile(b.template):"function"==typeof b.template&&(e.template=b.template)),e.pageContent=e.listBlock.parents(".page-content");var g;"undefined"!=typeof e.params.updatableScroll?g=e.params.updatableScroll:(g=!0,f.device.ios&&f.device.osVersion.split(".")[0]<8&&(g=!1)),e.ul=e.params.ul?h(e.params.ul):e.listBlock.children("ul"),0===e.ul.length&&(e.listBlock.append("<ul></ul>"),e.ul=e.listBlock.children("ul")),e.domCache={},e.displayDomCache={},e.tempDomElement=document.createElement("ul"),e.lastRepaintY=null,e.fragment=document.createDocumentFragment(),e.filterItems=function(a,b){e.filteredItems=[];for(var c=(a[0],a[a.length-1],0);c<a.length;c++)e.filteredItems.push(e.items[a[c]]);"undefined"==typeof b&&(b=!0),b&&(e.pageContent[0].scrollTop=0),e.update()},e.resetFilter=function(){e.filteredItems=null,delete e.filteredItems,e.update()};var j,k,l,m,n,o,p=0,q="function"==typeof e.params.height;return e.setListSize=function(){var a=e.filteredItems||e.items;if(j=e.pageContent[0].offsetHeight,q){o=0,e.heights=[];for(var b=0;b<a.length;b++){var c=e.params.height(a[b]);o+=c,e.heights.push(c)}}else o=a.length*e.params.height/e.params.cols,k=Math.ceil(j/e.params.height),l=e.params.rowsBefore||2*k,m=e.params.rowsAfter||k,n=k+l+m,p=l/2*e.params.height;g&&e.ul.css({height:o+"px"})},e.render=function(a){a&&(e.lastRepaintY=null);var b=-(e.listBlock[0].getBoundingClientRect().top+e.pageContent[0].getBoundingClientRect().top);if(null===e.lastRepaintY||Math.abs(b-e.lastRepaintY)>p||!g&&e.pageContent[0].scrollTop+j>=e.pageContent[0].scrollHeight){e.lastRepaintY=b;var c,d,f=e.filteredItems||e.items,h=0,i=0;if(q){var k,m,o=0;for(p=j,k=0;k<e.heights.length;k++)m=e.heights[k],"undefined"==typeof c&&(o+m>=b-2*j?c=k:h+=m),"undefined"==typeof d&&((o+m>=b+2*j||k===e.heights.length-1)&&(d=k+1),i+=m),o+=m;d=Math.min(d,f.length)}else c=(parseInt(b/e.params.height)-l)*e.params.cols,0>c&&(c=0),d=Math.min(c+n*e.params.cols,f.length);var r;e.reachEnd=!1;for(var s=c;d>s;s++){var t,u;u=e.items.indexOf(f[s]),s===c&&(e.currentFromIndex=u),s===d-1&&(e.currentToIndex=u),u===e.items.length-1&&(e.reachEnd=!0),e.domCache[u]?t=e.domCache[u]:(e.tempDomElement.innerHTML=e.template?e.template(f[s],{index:u}):e.params.renderItem?e.params.renderItem(u,f[s]):f[s],t=e.tempDomElement.childNodes[0],e.params.cache&&(e.domCache[u]=t)),t.f7VirtualListIndex=u,s===c&&(r=q?h:s*e.params.height/e.params.cols),t.style.top=r+"px",e.params.onItemBeforeInsert&&e.params.onItemBeforeInsert(e,t),e.fragment.appendChild(t)}g||(e.ul[0].style.height=q?i+"px":s*e.params.height/e.params.cols+"px"),e.params.onBeforeClear&&e.params.onBeforeClear(e,e.fragment),e.ul[0].innerHTML="",e.params.onItemsBeforeInsert&&e.params.onItemsBeforeInsert(e,e.fragment),e.ul[0].appendChild(e.fragment),e.params.onItemsAfterInsert&&e.params.onFragmentAfterInsert(e,e.fragment)}},e.handleScroll=function(){e.render()},e.handleResize=function(){e.setListSize(),e.render(!0)},e.attachEvents=function(a){var b=a?"off":"on";e.pageContent[b]("scroll",e.handleScroll),h(window)[b]("resize",e.handleResize)},e.init=function(){e.attachEvents(),e.setListSize(),e.render()},e.appendItems=function(a){for(var b=0;b<a.length;b++)e.items.push(a[b]);e.update()},e.appendItem=function(a){e.appendItems([a])},e.replaceAllItems=function(a){e.items=a,delete e.filteredItems,e.domCache={},e.update()},e.replaceItem=function(a,b){e.items[a]=b,e.params.cache&&delete e.domCache[a],e.update()},e.prependItems=function(a){for(var b=a.length-1;b>=0;b--)e.items.unshift(a[b]);if(e.params.cache){var c={};for(var d in e.domCache)c[parseInt(d,10)+a.length]=e.domCache[d];e.domCache=c}e.update()},e.prependItem=function(a){e.prependItems([a])},e.moveItem=function(a,b){if(a!==b){var c=e.items.splice(a,1)[0];if(b>=e.items.length?(e.items.push(c),b=e.items.length-1):e.items.splice(b,0,c),e.params.cache){var d={};for(var f in e.domCache){var g=parseInt(f,10),h=b>a?a:b,i=b>a?b:a,j=b>a?-1:1;(h>g||g>i)&&(d[g]=e.domCache[g]),g===h&&(d[i]=e.domCache[g]),g>h&&i>=g&&(d[g+j]=e.domCache[g])}e.domCache=d}e.update()}},e.insertItemBefore=function(a,b){if(0===a)return void e.prependItem(b);if(a>=e.items.length)return void e.appendItem(b);if(e.items.splice(a,0,b),e.params.cache){var c={};for(var d in e.domCache){var f=parseInt(d,10);f>=a&&(c[f+1]=e.domCache[f])}e.domCache=c}e.update()},e.deleteItems=function(a){for(var b,c=0,d=0;d<a.length;d++){var f=a[d];"undefined"!=typeof b&&f>b&&(c=-d),f+=c,b=a[d];var g=e.items.splice(f,1)[0];if(e.filteredItems&&e.filteredItems.indexOf(g)>=0&&e.filteredItems.splice(e.filteredItems.indexOf(g),1),e.params.cache){var h={};for(var i in e.domCache){var j=parseInt(i,10);j===f?delete e.domCache[f]:parseInt(i,10)>f?h[j-1]=e.domCache[i]:h[j]=e.domCache[i]}e.domCache=h}}e.update()},e.deleteAllItems=function(){e.items=[],delete e.filteredItems,e.params.cache&&(e.domCache={}),e.update()},e.deleteItem=function(a){e.deleteItems([a])},e.clearCache=function(){e.domCache={}},e.update=function(){e.setListSize(),e.render(!0)},e.destroy=function(){e.attachEvents(!0),delete e.items,delete e.domCache},e.init(),e.listBlock[0].f7VirtualList=e,e};f.virtualList=function(a,b){return new n(a,b)},f.reinitVirtualList=function(a){var b=h(a),c=b.find(".virtual-list");if(0!==c.length)for(var d=0;d<c.length;d++){var e=e[0].f7VirtualList;e&&e.update()}},f.initPullToRefresh=function(a){function b(a){if(j){if("android"!==f.device.os)return;if("targetTouches"in a&&a.targetTouches.length>1)return}k=!1,j=!0,l=void 0,r=void 0,s.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,s.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,n=(new Date).getTime(),o=h(this)}function c(a){if(j){var b="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,c="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY;if("undefined"==typeof l&&(l=!!(l||Math.abs(c-s.y)>Math.abs(b-s.x))),!l)return void(j=!1);if(q=o[0].scrollTop,"undefined"==typeof r&&0!==q&&(r=!0),!k){if(o.removeClass("transitioning"),q>o[0].offsetHeight)return void(j=!1);v=o.hasClass("refreshing")?44:0,u=o[0].scrollHeight===o[0].offsetHeight||"ios"!==f.device.os?!0:!1}return k=!0,m=c-s.y,m>0&&0>=q||0>q?("ios"===f.device.os&&parseInt(f.device.osVersion.split(".")[0],10)>7&&0===q&&!r&&(u=!0),u&&(a.preventDefault(),p=Math.pow(m,.85)+v,o.transform("translate3d(0,"+p+"px,0)")),u&&Math.pow(m,.85)>44||!u&&m>=88?(t=!0,o.addClass("pull-up").removeClass("pull-down")):(t=!1,o.removeClass("pull-up").addClass("pull-down")),void 0):(o.removeClass("pull-up pull-down"),void(t=!1))}}function d(){return j&&k?(p&&(o.addClass("transitioning"),p=0),o.transform(""),t?(o.addClass("refreshing"),o.trigger("refresh",{done:function(){f.pullToRefreshDone(o)}})):o.removeClass("pull-down"),j=!1,void(k=!1)):(j=!1,void(k=!1))}function e(){i.off(f.touchEvents.start,b),i.off(f.touchEvents.move,c),i.off(f.touchEvents.end,d)}function g(){e(),w.off("pageBeforeRemove",g)}var i=h(a);if(i.hasClass("pull-to-refresh-content")||(i=i.find(".pull-to-refresh-content")),i&&0!==i.length){var j,k,l,m,n,o,p,q,r,s={},t=!1,u=!1,v=0,w=i.hasClass("page")?i:i.parents(".page"),x=!1;(w.find(".navbar").length>0||w.parents(".navbar-fixed, .navbar-through").length>0||w.hasClass("navbar-fixed")||w.hasClass("navbar-through"))&&(x=!0),w.hasClass("no-navbar")&&(x=!1),x||i.addClass("pull-to-refresh-no-navbar"),o=i,i.on(f.touchEvents.start,b),i.on(f.touchEvents.move,c),i.on(f.touchEvents.end,d),0!==w.length&&(i[0].f7DestroyPullToRefresh=e,w.on("pageBeforeRemove",g))}},f.pullToRefreshDone=function(a){a=h(a),0===a.length&&(a=h(".pull-to-refresh-content.refreshing")),a.removeClass("refreshing").addClass("transitioning"),a.transitionEnd(function(){a.removeClass("transitioning pull-up pull-down")})},f.pullToRefreshTrigger=function(a){a=h(a),0===a.length&&(a=h(".pull-to-refresh-content")),a.hasClass("refreshing")||(a.addClass("transitioning refreshing"),a.trigger("refresh",{done:function(){f.pullToRefreshDone(a)}}))},f.destroyPullToRefresh=function(a){a=h(a);var b=a.hasClass("pull-to-refresh-content")?a:a.find(".pull-to-refresh-content");0!==b.length&&b[0].f7DestroyPullToRefresh&&b[0].f7DestroyPullToRefresh()},f.attachInfiniteScroll=function(a){h(a).on("scroll",d)},f.detachInfiniteScroll=function(a){h(a).off("scroll",d)},f.initInfiniteScroll=function(a){function b(){f.detachInfiniteScroll(c),a.off("pageBeforeRemove",b)}a=h(a);var c=a.find(".infinite-scroll");0!==c.length&&(f.attachInfiniteScroll(c),a.on("pageBeforeRemove",b))},f.initScrollToolbars=function(a){function b(){a.hasClass("page-on-left")||(n=c[0].scrollTop,r=c[0].scrollHeight,s=c[0].offsetHeight,t=f.params.showBarsOnPageScrollEnd&&n+s>=r-A,v=k.hasClass("navbar-hidden"),w=l.hasClass("toolbar-hidden"),x=j&&j.hasClass("toolbar-hidden"),u=m>n||t?"show":n>44?"hide":"show","show"===u?(o&&d&&v&&(f.showNavbar(k),a.removeClass("no-navbar-by-scroll"),v=!1),p&&e&&w&&(f.showToolbar(l),a.removeClass("no-toolbar-by-scroll"),w=!1),q&&g&&x&&(f.showToolbar(j),a.removeClass("no-tabbar-by-scroll"),x=!1)):(o&&d&&!v&&(f.hideNavbar(k),a.addClass("no-navbar-by-scroll"),v=!0),p&&e&&!w&&(f.hideToolbar(l),a.addClass("no-toolbar-by-scroll"),w=!0),q&&g&&!x&&(f.hideToolbar(j),a.addClass("no-tabbar-by-scroll"),x=!0)),m=n)}a=h(a);var c=a.find(".page-content");if(0!==c.length){var d=f.params.hideNavbarOnPageScroll||c.hasClass("hide-navbar-on-scroll")||c.hasClass("hide-bars-on-scroll"),e=f.params.hideToolbarOnPageScroll||c.hasClass("hide-toolbar-on-scroll")||c.hasClass("hide-bars-on-scroll"),g=f.params.hideTabbarOnPageScroll||c.hasClass("hide-tabbar-on-scroll");if(d||e||g){var i=c.parents("."+f.params.viewClass);if(0!==i.length){var j,k=i.find(".navbar"),l=i.find(".toolbar");g&&(j=i.find(".tabbar"),0===j.length&&(j=i.parents("."+f.params.viewsClass).find(".tabbar")));var m,n,o=k.length>0,p=l.length>0,q=j&&j.length>0;m=n=c[0].scrollTop;var r,s,t,u,v,w,x,y=p&&e?l[0].offsetHeight:0,z=q&&g?j[0].offsetHeight:0,A=z||y;c.on("scroll",b),c[0].f7ScrollToolbarsHandler=b}}}},f.destroyScrollToolbars=function(a){a=h(a);var b=a.find(".page-content");if(0!==b.length){var c=b[0].f7ScrollToolbarsHandler;c&&b.off("scroll",b[0].f7ScrollToolbarsHandler)}},f.showTab=function(a,b){var c=h(a);if(c.hasClass("active"))return!1;if(0===c.length)return!1;var d=c.parent(".tabs");if(0===d.length)return!1;f.allowSwipeout=!0;var e=d.parent().hasClass("tabs-animated-wrap");e&&d.transform("translate3d("+100*-c.index()+"%,0,0)");var g=d.children(".tab.active").removeClass("active");if(c.addClass("active"),c.trigger("show"),!e&&c.find(".navbar").length>0){var i;i=c.hasClass(f.params.viewClass)?c[0]:c.parents("."+f.params.viewClass)[0],f.sizeNavbars(i)}if(b?b=h(b):(b=h("string"==typeof a?'.tab-link[href="'+a+'"]':'.tab-link[href="#'+c.attr("id")+'"]'),(!b||b&&0===b.length)&&h("[data-tab]").each(function(){c.is(h(this).attr("data-tab"))&&(b=h(this))})),0!==b.length){var j;if(g&&g.length>0){var k=g.attr("id");k&&(j=h('.tab-link[href="#'+k+'"]')),(!j||j&&0===j.length)&&h("[data-tab]").each(function(){g.is(h(this).attr("data-tab"))&&(j=h(this))})}return b&&b.length>0&&b.addClass("active"),j&&j.length>0&&j.removeClass("active"),!0}},f.accordionToggle=function(a){a=h(a),0!==a.length&&(a.hasClass("accordion-item-expanded")?f.accordionClose(a):f.accordionOpen(a))},f.accordionOpen=function(a){a=h(a);var b=a.parents(".accordion-list").eq(0),c=a.children(".accordion-item-content");0===c.length&&(c=a.find(".accordion-item-content"));var d=b.length>0&&a.parent().children(".accordion-item-expanded");d.length>0&&f.accordionClose(d),c.css("height",c[0].scrollHeight+"px").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){c.transition(0),c.css("height","auto");{c[0].clientLeft}c.transition(""),a.trigger("opened")}else c.css("height",""),a.trigger("closed")}),a.trigger("open"),a.addClass("accordion-item-expanded")},f.accordionClose=function(a){a=h(a);var b=a.children(".accordion-item-content");0===b.length&&(b=a.find(".accordion-item-content")),a.removeClass("accordion-item-expanded"),b.transition(0),b.css("height",b[0].scrollHeight+"px");b[0].clientLeft;b.transition(""),b.css("height","").transitionEnd(function(){if(a.hasClass("accordion-item-expanded")){b.transition(0),b.css("height","auto");{b[0].clientLeft}b.transition(""),a.trigger("opened")}else b.css("height",""),a.trigger("closed")}),a.trigger("close")},f.initFastClicks=function(){function a(a){var b=h(a.target),c=b.parents(f.params.activeStateElements);return c.length>0?c:b}function b(){var a=B.parents(".page-content, .panel");return 0===a.length?!1:("yes"!==a.prop("scrollHandlerSet")&&(a.on("scroll",function(){clearTimeout(C)}),a.prop("scrollHandlerSet","yes")),!0)}function c(){B.addClass("active-state")}function d(){B.removeClass("active-state")}function e(a){var b="button checkbox file image radio submit input textarea".split(" ");return document.activeElement&&a!==document.activeElement&&document.activeElement!==document.body?b.indexOf(a.nodeName.toLowerCase())>=0?!1:!0:!1}function g(a){var b=h(a);return"input"===a.nodeName.toLowerCase()&&"file"===a.type?!1:b.hasClass("no-fastclick")||b.parents(".no-fastclick").length>0?!1:!0}function i(a){if(document.activeElement===a)return!1;var b=a.nodeName.toLowerCase(),c="button checkbox file image radio submit".split(" ");return a.disabled||a.readOnly?!1:"textarea"===b?!0:"select"===b?"android"===f.device.os?!1:!0:"input"===b&&c.indexOf(a.type)<0?!0:void 0}function j(a){if(a=h(a),a.is("label")||a.parents("label").length>0){if("android"===f.device.os){var b=f.device.osVersion.split(".");return 1*b[0]>4||1*b[0]===4&&1*b[1]>=4?!1:!0}return!1}return!0}function k(b){a(b).addClass("active-state"),"which"in b&&3===b.which&&setTimeout(function(){h(".active-state").removeClass("active-state")},0)}function l(){h(".active-state").removeClass("active-state")}function m(){h(".active-state").removeClass("active-state")}function n(d){if(A=!1,d.targetTouches.length>1)return!0;if(D=g(d.target),!D)return w=!1,!0;if("ios"===f.device.os){var i=window.getSelection();if(i.rangeCount&&i.focusNode!==document.body&&(!i.isCollapsed||document.activeElement===i.focusNode))return x=!0,!0;x=!1}"android"===f.device.os&&e(d.target)&&document.activeElement.blur(),w=!0,v=d.target,u=(new Date).getTime(),s=d.targetTouches[0].pageX,t=d.targetTouches[0].pageY,"ios"===f.device.os&&(y=void 0,h(v).parents().each(function(){var a=this;a.scrollHeight>a.offsetHeight&&!y&&(y=a,y.f7ScrollTop=y.scrollTop)})),d.timeStamp-z<200&&d.preventDefault(),f.params.activeState&&(B=a(d),b(d)?C=setTimeout(c,80):c())}function o(a){if(w){var b=!1,c=f.params.fastClicksDistanceThreshold;if(c){var e=a.targetTouches[0].pageX,g=a.targetTouches[0].pageY;(Math.abs(e-s)>c||Math.abs(g-t)>c)&&(b=!0)}else b=!0;b&&(w=!1,v=null,A=!0),f.params.activeState&&(clearTimeout(C),d())}}function p(a){if(clearTimeout(C),!w)return!x&&D&&a.preventDefault(),!0;if(document.activeElement===a.target)return!0;if(x||a.preventDefault(),a.timeStamp-z<200)return!0;if(z=a.timeStamp,w=!1,"ios"===f.device.os&&y&&y.scrollTop!==y.f7ScrollTop)return!1;f.params.activeState&&(c(),setTimeout(d,0)),i(v)&&v.focus(),a.preventDefault();var b=a.changedTouches[0],e=document.createEvent("MouseEvents"),g="click";return"android"===f.device.os&&"select"===v.nodeName.toLowerCase()&&(g="mousedown"),e.initMouseEvent(g,!0,!0,window,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null),e.forwardedTouchEvent=!0,v.dispatchEvent(e),!1}function q(){w=!1,v=null}function r(a){var b=!1;return w?(v=null,w=!1,!0):"submit"===a.target.type&&0===a.detail?!0:(v||(b=!0),document.activeElement===v&&(b=!0),a.forwardedTouchEvent&&(b=!0),a.cancelable||(b=!0),b||(a.stopImmediatePropagation(),a.stopPropagation(),v?(j(v)||A)&&a.preventDefault():a.preventDefault(),v=null),b)}f.params.activeState&&h("html").addClass("watch-active-state");var s,t,u,v,w,x,y,z,A,B,C,D;f.support.touch?(document.addEventListener("click",r,!0),document.addEventListener("touchstart",n),document.addEventListener("touchmove",o),document.addEventListener("touchend",p),document.addEventListener("touchcancel",q)):f.params.activeState&&(document.addEventListener("mousedown",k),document.addEventListener("mousemove",l),document.addEventListener("mouseup",m))},f.initClickEvents=function(){function a(a){function b(a){return"false"===a?!1:"true"===a?!0:void 0}var c=h(this),d=c.attr("href"),e="a"===c[0].nodeName.toLowerCase();if(!e||!c.is(f.params.externalLinks)){if(c.hasClass("smart-select")&&f.smartSelectOpen&&f.smartSelectOpen(c),c.hasClass("open-panel")&&f.openPanel(1===h(".panel").length?h(".panel").hasClass("panel-left")?"left":"right":"right"===c.attr("data-panel")?"right":"left"),c.hasClass("close-panel")&&f.closePanel(),c.hasClass("panel-overlay")&&f.params.panelsCloseByOutside&&f.closePanel(),c.hasClass("open-popover")){var g;g=c.attr("data-popover")?c.attr("data-popover"):".popover",f.popover(g,c)}c.hasClass("close-popover")&&f.closeModal(".popover.modal-in");var k;c.hasClass("open-popup")&&(k=c.attr("data-popup")?c.attr("data-popup"):".popup",f.popup(k)),c.hasClass("close-popup")&&(k=c.attr("data-popup")?c.attr("data-popup"):".popup.modal-in",f.closeModal(k));var l;c.hasClass("open-login-screen")&&(l=c.attr("data-login-screen")?c.attr("data-login-screen"):".login-screen",f.loginScreen(l)),c.hasClass("close-login-screen")&&f.closeModal(".login-screen.modal-in"),c.hasClass("modal-overlay")&&(h(".modal.modal-in").length>0&&f.params.modalCloseByOutside&&f.closeModal(".modal.modal-in"),h(".actions-modal.modal-in").length>0&&f.params.actionsCloseByOutside&&f.closeModal(".actions-modal.modal-in"),h(".popover.modal-in").length>0&&f.closeModal(".popover.modal-in")),c.hasClass("popup-overlay")&&h(".popup.modal-in").length>0&&f.params.popupCloseByOutside&&f.closeModal(".popup.modal-in");var m;if(c.hasClass("tab-link")&&(m=!0,f.showTab(c.attr("data-tab")||c.attr("href"),c)),c.hasClass("swipeout-delete"))if(c.attr("data-confirm")){var n=c.attr("data-confirm"),o=c.attr("data-confirm-title");o?f.confirm(n,o,function(){f.swipeoutDelete(c.parents(".swipeout"))}):f.confirm(n,function(){f.swipeoutDelete(c.parents(".swipeout"))})}else f.swipeoutDelete(c.parents(".swipeout"));if(c.hasClass("toggle-sortable")&&f.sortableToggle(c.data("sortable")),c.hasClass("open-sortable")&&f.sortableOpen(c.data("sortable")),c.hasClass("close-sortable")&&f.sortableClose(c.data("sortable")),c.hasClass("accordion-item-toggle")||c.hasClass("item-link")&&c.parent().hasClass("accordion-item")){var p=c.parent(".accordion-item");0===p.length&&(p=c.parents(".accordion-item")),0===p.length&&(p=c.parents("li")),f.accordionToggle(p)}if((!f.params.ajaxLinks||c.is(f.params.ajaxLinks))&&e&&f.params.router){e&&a.preventDefault();var q=d&&d.length>0&&"#"!==d&&!m,r=c.attr("data-template");if(q||c.hasClass("back")||r){var s;if(c.attr("data-view")?s=h(c.attr("data-view"))[0].f7View:(s=c.parents("."+f.params.viewClass)[0]&&c.parents("."+f.params.viewClass)[0].f7View,s&&s.params.linksView&&("string"==typeof s.params.linksView?s=h(s.params.linksView)[0].f7View:s.params.linksView instanceof j&&(s=s.params.linksView))),s||f.mainView&&(s=f.mainView),!s)return;var t;if(r)d=void 0;else{if(0===d.indexOf("#")&&"#"!==d){if(!s.params.domCache)return;t=d.split("#")[1],d=void 0}if("#"===d&&!c.hasClass("back"))return}var u;c.attr("data-animatePages")?u=b(c.attr("data-animatePages")):(c.hasClass("with-animation")&&(u=!0),c.hasClass("no-animation")&&(u=!1));var v={animatePages:u,ignoreCache:b(c.attr("data-ignoreCache")),force:b(c.attr("data-force")),reload:b(c.attr("data-reload")),reloadPrevious:b(c.attr("data-reloadPrevious")),pageName:t,url:d};if(f.params.template7Pages){v.contextName=c.attr("data-contextName");var w=c.attr("data-context");w&&(v.context=JSON.parse(w))}r&&r in i.templates&&(v.template=i.templates[r]),c.hasClass("back")?s.router.back(v):s.router.load(v)}}}}h(document).on("click","a, .open-panel, .close-panel, .panel-overlay, .modal-overlay, .popup-overlay, .swipeout-delete, .close-popup, .open-popup, .open-popover, .open-login-screen, .close-login-screen .smart-select, .toggle-sortable, .open-sortable, .close-sortable, .accordion-item-toggle",a)},f.initResize=function(){h(window).on("resize",f.resize),h(window).on("orientationchange",f.orientationchange)},f.resize=function(){f.sizeNavbars&&f.sizeNavbars(),e()},f.orientationchange=function(){f.device&&f.device.minimalUi&&(90===window.orientation||-90===window.orientation)&&(document.body.scrollTop=0),e()},f.formsData={},f.formStoreData=function(a,b){f.formsData[a]=b,f.ls["f7form-"+a]=JSON.stringify(b)},f.formDeleteData=function(a){f.formsData[a]&&(f.formsData[a]="",delete f.formsData[a]),f.ls["f7form-"+a]&&(f.ls["f7form-"+a]="",f.ls.removeItem("f7form-"+a))},f.formGetData=function(a){return f.ls["f7form-"+a]?JSON.parse(f.ls["f7form-"+a]):f.formsData[a]?f.formsData[a]:void 0},f.formToJSON=function(a){if(a=h(a),1!==a.length)return!1;var b={},c=["submit","image","button","file"],d=[];return a.find("input, select, textarea").each(function(){var e=h(this),f=e.attr("name"),g=e.attr("type"),i=this.nodeName.toLowerCase();if(!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===i&&e.attr("multiple"))d.push(f),b[f]=[],a.find('select[name="'+f+'"] option').each(function(){this.selected&&b[f].push(this.value)});else switch(g){case"checkbox":d.push(f),b[f]=[],a.find('input[name="'+f+'"]').each(function(){this.checked&&b[f].push(this.value)});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked&&(b[f]=this.value)});break;default:b[f]=e.val()}}),b},f.formFromJSON=function(a,b){if(a=h(a),1!==a.length)return!1;var c=["submit","image","button","file"],d=[];a.find("input, select, textarea").each(function(){var e=h(this),f=e.attr("name"),g=e.attr("type"),i=this.nodeName.toLowerCase();if(b[f]&&!(c.indexOf(g)>=0||d.indexOf(f)>=0||!f))if("select"===i&&e.attr("multiple"))d.push(f),a.find('select[name="'+f+'"] option').each(function(){this.selected=b[f].indexOf(this.value)>=0?!0:!1});else switch(g){case"checkbox":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f].indexOf(this.value)>=0?!0:!1});break;case"radio":d.push(f),a.find('input[name="'+f+'"]').each(function(){this.checked=b[f]===this.value?!0:!1});break;default:e.val(b[f])}})},f.initFormsStorage=function(a){function b(){var a=h(this),b=a[0].id;if(b){var c=f.formToJSON(a);c&&(f.formStoreData(b,c),a.trigger("store",{data:c}))}}function c(){d.off("change submit",b),a.off("pageBeforeRemove",c)}if(a=h(a),0!==a.length){var d=a.find("form.store-data");0!==d.length&&(d.each(function(){var a=this.getAttribute("id");if(a){var b=f.formGetData(a);b&&f.formFromJSON(this,b)}}),d.on("change submit",b),a.on("pageBeforeRemove",c))}},h(document).on("submit change","form.ajax-submit, form.ajax-submit-onchange",function(a){var b=h(this);if("change"!==a.type||b.hasClass("ajax-submit-onchange")){"submit"===a.type&&a.preventDefault();var c=b.attr("method")||"GET",d=b.attr("enctype"),e=b.attr("action");if(e){var g;g="POST"===c?new FormData(b[0]):h.serializeObject(f.formToJSON(b[0]));var i=h.ajax({method:c,url:e,contentType:d,data:g,success:function(a){b.trigger("submitted",{data:a,xhr:i})}})}}}),f.pushStateQueue=[],f.pushStateClearQueue=function(){if(0!==f.pushStateQueue.length){var a,b=f.pushStateQueue.pop();f.params.pushStateNoAnimation===!0&&(a=!1),"back"===b.action&&f.router.back(b.view,{animatePages:a}),"loadPage"===b.action&&f.router.load(b.view,{url:b.stateUrl,animatePages:a,pushState:!1}),"loadContent"===b.action&&f.router.load(b.view,{content:b.stateContent,animatePages:a,pushState:!1}),"loadPageName"===b.action&&f.router.load(b.view,{pageName:b.statePageName,animatePages:a,pushState:!1})}},f.initPushState=function(){function a(a){if(!b){var c=f.mainView;if(c){var d=a.state;if(d||(d={viewIndex:f.views.indexOf(c),url:c.history[0]}),!(d.viewIndex<0)){var e,g=f.views[d.viewIndex],h=d&&d.url||void 0,i=d&&d.content||void 0,j=d&&d.pageName||void 0;f.params.pushStateNoAnimation===!0&&(e=!1),h!==g.url&&(g.history.indexOf(h)>=0?g.allowPageChange?f.router.back(g,{url:void 0,animatePages:e,pushState:!1,preloadOnly:!1}):f.pushStateQueue.push({action:"back",view:g}):i?g.allowPageChange?f.router.load(g,{content:i,animatePages:e,pushState:!1}):f.pushStateQueue.unshift({action:"loadContent",stateContent:i,view:g}):j?g.allowPageChange?f.router.load(g,{pageName:j,animatePages:e,pushState:!1}):f.pushStateQueue.unshift({action:"loadPageName",statePageName:j,view:g}):g.allowPageChange?f.router.load(g,{url:h,animatePages:e,pushState:!1}):f.pushStateQueue.unshift({action:"loadPage",stateUrl:h,view:g}))
}}}}var b=!0;h(window).on("load",function(){setTimeout(function(){b=!1},0)}),h(window).on("popstate",a)};var o=function(a,b){function c(a){var b=a.nodeName.toLowerCase();return"input"===b||"textarea"===b||"select"===b?!0:!1}var d={initialSlide:0,spaceBetween:0,speed:300,loop:!1,slidesPerView:1,onlyExternal:!1,direction:"horizontal",paginationHide:!0,slideClass:"slider-slide",slideActiveClass:"slider-slide-active",slideNextClass:"slider-slide-next",slidePrevClass:"slider-slide-prev",wrapperClass:"slider-wrapper",bulletClass:"slider-pagination-bullet",bulletActiveClass:"slider-pagination-active",preventClicks:!0,preventClicksPropagation:!0,autoplay:!1,autoplayDisableOnInteraction:!0};b=b||{};for(var e in d)"undefined"==typeof b[e]&&(b[e]=d[e]);var g=this;if(g.params=b,g.container=h(a),0!==g.container.length){g.container[0].f7Slider=g,g.container.addClass("vertical"===g.params.direction?"slider-container-vertical":"slider-container-horizontal"),g.wrapper=g.container.children("."+g.params.wrapperClass),g.params.pagination&&(g.paginationContainer=h(g.params.pagination)),g.activeSlideIndex=g.previousSlideIndex=g.params.initialSlide||0;var i="horizontal"===g.params.direction,j=i&&f.rtl?-1:1;g.updateSlides=function(){if(g.slides=g.wrapper.children("."+g.params.slideClass),0!==g.params.spaceBetween){var a=f.rtl?"marginLeft":"marginRight";i?g.slides.css(a,g.params.spaceBetween+"px"):g.slides.css({marginBottom:g.params.spaceBetween+"px"})}if(g.params.slidesPerView>1){var c="(100% - "+(g.params.slidesPerView-1)*b.spaceBetween+"px)/"+g.params.slidesPerView;i?(g.slides.css("width","-webkit-calc("+c+")"),g.slides.css("width","-moz-calc("+c+")"),g.slides.css("width","calc("+c+")")):(g.slides.css("height","-webkit-calc("+c+")"),g.slides.css("height","-moz-calc("+c+")"),g.slides.css("height","calc("+c+")"))}g.isFirst=g.isBeginning=0===g.activeSlideIndex,g.isLast=g.isEnd=g.activeSlideIndex===g.slides.length-g.params.slidesPerView},g.updatePagination=function(){if(g.paginationContainer&&g.paginationContainer.length>0){var a="",b=g.slides.length-g.params.slidesPerView+1;g.params.loop&&(b=g.slides.length-2*g.loopedSlides);for(var c=0;b>c;c++)a+='<span class="'+g.params.bulletClass+'"></span>';g.paginationContainer.html(a),g.bullets=g.paginationContainer.find("."+g.params.bulletClass)}},g.updateSize=function(){g.width=g.container[0].offsetWidth,g.height=g.container[0].offsetHeight,g.size=i?g.width:g.height},g.attachEvents=function(a){var b=a?"off":"on";g.container[b](f.touchEvents.start,g.onTouchStart),g.container[b](f.touchEvents.move,g.onTouchMove),g.container[b](f.touchEvents.end,g.onTouchEnd),h(window)[b]("resize",g.onResize),g.params.nextButton&&h(g.params.nextButton)[b]("click",g.onClickNext),g.params.prevButton&&h(g.params.prevButton)[b]("click",g.onClickPrev),g.params.indexButton&&h(g.params.indexButton)[b]("click",g.onClickIndex),(g.params.preventClicks||g.params.preventClicksPropagation)&&g.container[b]("click",g.onClick,!0)},g.detachEvents=function(){g.attachEvents(!0)},g.onResize=function(){g.updateSize(),g.slideTo(g.activeSlideIndex,0,!1)};var k,l,m,n,o,p,q={},r={},s=Date.now();g.animating=!1,g.allowClick=!0,g.onClick=function(a){g.params.preventClicks&&!g.allowClick&&(a.preventDefault(),g.params.preventClicksPropagation&&(a.stopPropagation(),a.stopImmediatePropagation()))},g.touchedTarget=null;var t,u;g.onTouchStart=function(a){g.params.onlyExternal||(g.touchedTarget=a.target,k=!0,l=!1,n=void 0,q.x=r.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,q.y=r.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY,m=Date.now(),g.allowClick=!0,g.updateSize(),g.params.onTouchStart&&g.params.onTouchStart(g,a),t=u=!1,"mousedown"===a.type&&(c(a.target)||a.preventDefault()))},g.onTouchMove=function(a){if(g.params.onTouchMove&&g.params.onTouchMove(g,a),g.allowClick=!1,!(a.targetTouches&&a.targetTouches.length>1)&&(r.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,r.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,"undefined"==typeof n&&(n=!!(n||Math.abs(r.y-q.y)>Math.abs(r.x-q.x))),(i&&n||!i&&!n)&&g.params.onOppositeTouchMove&&g.params.onOppositeTouchMove(g,a),k)){if(i&&n||!i&&!n)return void(k=!1);g.params.onSliderMove&&g.params.onSliderMove(g,a),a.preventDefault(),a.stopPropagation(),l||(b.loop&&g.fixLoop(),o=h.getTranslate(g.wrapper[0],i?"x":"y")*j,g.wrapper.transition(0),g.animating&&g.onTransitionEnd(),b.autoplay&&w&&(g.params.autoplayDisableOnInteraction?g.stopAutoplay():v&&clearTimeout(v))),l=!0;var c=i?(r.x-q.x)*j:r.y-q.y;c>0&&0===g.activeSlideIndex?c=Math.pow(c,.85):0>c&&g.activeSlideIndex===g.slides.length-g.params.slidesPerView?c=-Math.pow(-c,.85):0>c&&0===g.activeSlideIndex&&g.slides.length<g.params.slidesPerView&&(c=-Math.pow(-c,.85));var d=i?(c+o)*j:0,e=i?0:c+o;g.wrapper.transform("translate3d("+d+"px, "+e+"px,0)")}},g.onTouchEnd=function(a){g.params.onTouchEnd&&g.params.onTouchEnd(g,a);var b=Date.now(),d=b-m;if(c(g.touchedTarget)&&(t=!0),document.activeElement&&document.activeElement!==g.touchedTarget&&c(document.activeElement)&&(document.activeElement.blur(),u=!0),g.allowClick&&(300>d&&b-s>300&&(p&&clearTimeout(p),p=setTimeout(function(){g&&(g.params.paginationHide&&g.paginationContainer&&!u&&!t&&g.paginationContainer.toggleClass("slider-pagination-hidden"),g.params.onClick&&g.params.onClick(g,a))},300)),300>d&&300>b-s&&(p&&clearTimeout(p),g.params.onDoubleTap&&g.params.onDoubleTap(g,a)),g.params.onTap&&g.params.onTap(g,a)),s=Date.now(),!k||!l)return void(k=l=!1);k=l=!1;var e=i?(r.x-q.x)*j:r.y-q.y;Math.abs(e)<5&&300>d&&g.allowClick===!1&&(g.allowClick=!0),setTimeout(function(){g&&(g.allowClick=!0)},100);var f=g.params.autoplay&&w&&!g.params.autoplayDisableOnInteraction;if(0===e)return void(f&&g.startAutoplay());var h=1,n=g.size/g.params.slidesPerView;g.params.slidesPerView>1&&(h=Math.abs((Math.abs(e)+n/2)/n)),f&&g.wrapper.transitionEnd(function(){g.startAutoplay()}),d>300?-n/2>=e?g.slideTo(g.activeSlideIndex+Math.floor(h)):e>n/2?g.slideTo(g.activeSlideIndex-Math.floor(h)):g.slideReset():Math.abs(e)<10?g.slideReset():g.slideTo(0>e?g.activeSlideIndex+Math.round(h):g.activeSlideIndex-Math.round(h))},g.slideTo=function(a,b,c){"undefined"==typeof a&&(a=0),a>g.slides.length-g.params.slidesPerView&&(a=g.slides.length-g.params.slidesPerView),0>a&&(a=0);var d=-(g.size+g.params.spaceBetween)*a/g.params.slidesPerView;"undefined"==typeof b&&(b=g.params.speed),g.previousSlideIndex=g.activeSlideIndex,g.activeSlideIndex=Math.round(a),g.isFirst=g.isBeginning=0===g.activeSlideIndex,g.isLast=g.isEnd=g.activeSlideIndex===g.slides.length-g.params.slidesPerView,g.onTransitionStart();var e=i?d*j:0,f=i?0:d;0===b?(g.wrapper.transition(0).transform("translate3d("+e+"px,"+f+"px,0)"),c!==!1&&g.onTransitionEnd()):(g.animating=!0,g.wrapper.transition(b).transform("translate3d("+e+"px,"+f+"px,0)").transitionEnd(function(){c!==!1&&g.onTransitionEnd()}))},g.updateClasses=function(){g.slides.removeClass(g.params.slideActiveClass+" "+g.params.slideNextClass+" "+g.params.slidePrevClass);var a=g.slides.eq(g.activeSlideIndex);if(a.addClass(g.params.slideActiveClass),a.next().addClass(g.params.slideNextClass),a.prev().addClass(g.params.slidePrevClass),g.bullets&&g.bullets.length>0){g.bullets.removeClass(g.params.bulletActiveClass);var b=g.activeSlideIndex;g.params.loop&&(b-=g.loopedSlides,0>b&&(b=g.bullets.length+b),b>=g.bullets.length&&(b-=g.bullets.length)),g.bullets.eq(b).addClass(g.params.bulletActiveClass)}},g.onTransitionStart=function(){g.updateClasses(),g.activeSlideIndex!==g.previousSlideIndex&&g.params.onSlideChangeStart&&g.params.onSlideChangeStart(g),g.params.onTransitionStart&&g.params.onTransitionStart(g)},g.onTransitionEnd=function(){g.animating=!1,g.wrapper.transition(0),g.activeSlideIndex!==g.previousSlideIndex&&g.params.onSlideChangeEnd&&g.params.onSlideChangeEnd(g),g.params.onTransitionEnd&&g.params.onTransitionEnd(g)},g.slideNext=function(){if(g.params.loop){if(g.animating)return;g.fixLoop(),setTimeout(function(){g.slideTo(g.activeSlideIndex+1)},0)}else g.slideTo(g.activeSlideIndex+1)},g.slidePrev=function(){if(g.params.loop){if(g.animating)return;g.fixLoop(),setTimeout(function(){g.slideTo(g.activeSlideIndex-1)},0)}else g.slideTo(g.activeSlideIndex-1)},g.slideReset=function(){g.slideTo(g.activeSlideIndex)},g.onClickNext=function(a){a.preventDefault(),g.slideNext()},g.onClickPrev=function(a){a.preventDefault(),g.slidePrev()},g.onClickIndex=function(a){a.preventDefault(),g.slideTo(h(this).index())};var v,w;return g.startAutoplay=function(){g.params.autoplay&&(w=!0,v&&clearTimeout(v),v=setTimeout(function(){if(g.wrapper.transitionEnd(function(){g.startAutoplay()}),g.params.loop)g.slideNext();else{var a=g.activeSlideIndex+1;a>g.slides.length-g.params.slidesPerView&&(a=0),g.slideTo(a)}},g.params.autoplay))},g.stopAutoplay=function(){w=!1,v&&clearTimeout(v)},g.resetAutoplay=function(){g.stopAutoplay(),g.startAutoplay()},g.createLoop=function(){g.wrapper.children("."+g.params.slideClass+".slider-slide-duplicate").remove();var a=g.wrapper.children("."+g.params.slideClass);if(g.loopedSlides=parseInt(g.params.loopedSlides||g.params.slidesPerView,10),g.loopedSlides>a.length)return void(g.loopedSlides=a.length);var b,c=[],d=[];for(a.each(function(b,e){var f=h(this);b<g.loopedSlides&&d.push(e),b<a.length&&b>=a.length-g.loopedSlides&&c.push(e),f.attr("data-slider-slide-index",b)}),b=0;b<d.length;b++)g.wrapper.append(h(d[b].cloneNode(!0)).addClass("slider-slide-duplicate"));for(b=c.length-1;b>=0;b--)g.wrapper.prepend(h(c[b].cloneNode(!0)).addClass("slider-slide-duplicate"))},g.fixLoop=function(){var a;g.activeSlideIndex<g.loopedSlides?(a=g.slides.length-3*g.loopedSlides+g.activeSlideIndex,a+=g.loopedSlides,g.slideTo(a,0,!1)):g.activeSlideIndex>g.slides.length-2*g.params.slidesPerView&&(a=-g.slides.length+g.activeSlideIndex+g.loopedSlides,a+=g.loopedSlides,g.slideTo(a,0,!1))},g.init=function(){g.params.loop&&g.createLoop(),g.updateSlides(),g.updatePagination(),g.updateSize(),g.params.loop?g.slideTo(g.params.initialSlide+g.loopedSlides,0,!1):g.params.initialSlide>0?g.slideTo(g.params.initialSlide,0,!1):g.updateClasses(),g.attachEvents(),g.params.autoplay&&g.startAutoplay(),"function"==typeof g.params.onInit&&g.params.onInit()},g.update=function(){g.params.loop&&g.createLoop(),g.updateSlides(),g.updatePagination(),g.updateSize(),g.updateClasses()},g.destroy=function(){g.detachEvents(),g.params.onDestroy&&g.params.onDestroy(),g=void 0},g.init(),g}};f.slider=function(a,b){return new o(a,b)},f.initSlider=function(a){function b(a){function b(){a.destroy(),c.off("pageBeforeRemove",b)}c.on("pageBeforeRemove",b)}var c=h(a),d=c.find(".slider-init");if(0!==d.length)for(var e=0;e<d.length;e++){var g,i=d.eq(e);g=i.data("slider")?JSON.parse(i.data("slider")):{initialSlide:parseInt(i.data("initialSlide"),10)||void 0,spaceBetween:parseInt(i.data("spaceBetween"),10)||void 0,speed:parseInt(i.data("speed"),10)||void 0,slidesPerView:parseInt(i.data("slidesPerView"),10)||void 0,direction:i.data("direction"),pagination:i.data("pagination"),paginationHide:i.data("paginationHide")&&("true"===i.data("paginationHide")?!0:!1),loop:i.data("loop")&&("true"===i.data("loop")?!0:!1),onlyExternal:i.data("onlyExternal")&&("true"===i.data("onlyExternal")?!0:!1),slideClass:i.data("slideClass"),slideActiveClass:i.data("slideActiveClass"),slideNextClass:i.data("slideNextClass"),slidePrevClass:i.data("slidePrevClass"),wrapperClass:i.data("wrapperClass"),bulletClass:i.data("bulletClass"),bulletActiveClass:i.data("bulletActiveClass"),nextButton:i.data("nextButton"),prevButton:i.data("prevButton"),indexButton:i.data("indexButton"),autoplay:i.data("autoplay")};var j=f.slider(i[0],g);b(j)}},f.reinitSlider=function(a){var b=h(a),c=b.find(".slider-init");if(0!==c.length)for(var d=0;d<c.length;d++){var e=c[0].f7Slider;e&&e.onResize()}};var p=function(a){var b,c=this,d={photos:[],initialSlide:0,spaceBetween:20,speed:300,zoom:!0,maxZoom:3,minZoom:1,exposition:!0,expositionHideCaptions:!1,type:"standalone",navbar:!0,toolbar:!0,theme:"light",swipeToClose:!0,backLinkText:"Close",ofText:"of",loop:!1,lazyLoading:!1,lazyLoadingInPrevNext:!1,lazyLoadingOnTransitionStart:!1};a=a||{};for(var e in d)"undefined"==typeof a[e]&&(a[e]=d[e]);c.params=a;var g="dark"===c.params.theme?"color-white":"",i=c.params.navbarTemplate||'<div class="navbar"><div class="navbar-inner"><div class="left sliding"><a href="#" class="link '+("page"===c.params.type&&"back")+' close-popup photo-browser-close-link" data-popup=".photo-browser-popup"><i class="icon icon-back '+g+'"></i><span>'+c.params.backLinkText+'</span></a></div><div class="center sliding"><span class="photo-browser-current"></span> <span class="photo-browser-of">'+c.params.ofText+'</span> <span class="photo-browser-total"></span></div><div class="right"></div></div></div>',j=f.rtl?"next":"prev",k=f.rtl?"prev":"next",l=c.params.toolbarTemplate||'<div class="toolbar tabbar"><div class="toolbar-inner"><a href="#" class="link photo-browser-prev"><i class="icon icon-'+j+" "+g+'"></i></a><a href="#" class="link photo-browser-next"><i class="icon icon-'+k+" "+g+'"></i></a></div></div>',m=c.params.template||'<div class="photo-browser photo-browser-'+c.params.theme+'"><div class="view navbar-fixed toolbar-fixed">{{navbar}}<div data-page="photo-browser-slides" class="page no-toolbar {{noNavbar}} toolbar-fixed navbar-fixed">{{toolbar}}{{captions}}<div class="photo-browser-slider-container slider-container"><div class="photo-browser-slider-wrapper slider-wrapper">{{photos}}</div></div></div></div></div>',n=c.params.lazyLoading?c.params.photoLazyTemplate||'<div class="photo-browser-slide photo-browser-slide-lazy slider-slide"><div class="preloader'+("dark"===c.params.theme?" preloader-white":"")+'"></div><span class="photo-browser-zoom-container"><img data-src="{{url}}"></span></div>':c.params.photoTemplate||'<div class="photo-browser-slide slider-slide"><span class="photo-browser-zoom-container"><img src="{{url}}"></span></div>',o=c.params.captionsTheme||c.params.theme,p=c.params.captionsTemplate||'<div class="photo-browser-captions photo-browser-captions-'+o+'">{{captions}}</div>',q=c.params.captionTemplate||'<div class="photo-browser-caption" data-caption-index="{{captionIndex}}">{{caption}}</div>',r=c.params.objectTemplate||'<div class="photo-browser-slide photo-browser-object-slide slider-slide">{{html}}</div>',s="",t="";for(b=0;b<c.params.photos.length;b++){var u=c.params.photos[b],v="";"string"==typeof u||u instanceof String?v=u.indexOf("<")>=0||u.indexOf(">")>=0?r.replace(/{{html}}/g,u):n.replace(/{{url}}/g,u):"object"==typeof u&&(u.hasOwnProperty("html")&&u.html.length>0?v=r.replace(/{{html}}/g,u.html):u.hasOwnProperty("url")&&u.url.length>0&&(v=n.replace(/{{url}}/g,u.url)),u.hasOwnProperty("caption")&&u.caption.length>0?t+=q.replace(/{{caption}}/g,u.caption).replace(/{{captionIndex}}/g,b):v=v.replace(/{{caption}}/g,"")),s+=v}var w=m.replace("{{navbar}}",c.params.navbar?i:"").replace("{{noNavbar}}",c.params.navbar?"":"no-navbar").replace("{{photos}}",s).replace("{{captions}}",p.replace(/{{captions}}/g,t)).replace("{{toolbar}}",c.params.toolbar?l:"");c.activeSlideIndex=c.params.initialSlide,c.openIndex=c.activeSlideIndex,c.opened=!1,c.open=function(a){return"undefined"==typeof a&&(a=c.activeSlideIndex),a=parseInt(a,10),c.opened&&c.slider?void c.slider.slideTo(a):(c.opened=!0,c.openIndex=a,c.initialLazyLoaded=!1,"standalone"===c.params.type&&h("body").append(w),"popup"===c.params.type&&(c.popup=f.popup('<div class="popup photo-browser-popup">'+w+"</div>"),h(c.popup).on("closed",c.onPopupClose)),"page"===c.params.type?(h(document).on("pageBeforeInit",c.onPageBeforeInit),h(document).on("pageBeforeRemove",c.onPageBeforeRemove),c.params.view||(c.params.view=f.mainView),void c.params.view.loadContent(w)):(c.layout(c.openIndex),void(c.params.onOpen&&c.params.onOpen(c))))},c.close=function(){c.opened=!1,c.sliderContainer&&0!==c.sliderContainer.length&&(c.params.onClose&&c.params.onClose(c),c.attachEvents(!0),"standalone"===c.params.type&&c.container.removeClass("photo-browser-in").addClass("photo-browser-out").animationEnd(function(){c.container.remove()}),c.slider.destroy(),c.slider=c.sliderContainer=c.sliderWrapper=c.slides=x=y=z=void 0)},c.onPopupClose=function(){c.close(),h(c.popup).off("pageBeforeInit",c.onPopupClose)},c.onPageBeforeInit=function(a){"photo-browser-slides"===a.detail.page.name&&c.layout(c.openIndex),h(document).off("pageBeforeInit",c.onPageBeforeInit)},c.onPageBeforeRemove=function(a){"photo-browser-slides"===a.detail.page.name&&c.close(),h(document).off("pageBeforeRemove",c.onPageBeforeRemove)},c.loadImageInSlide=function(a,b){if(a&&"undefined"!=typeof b&&0!==a.slides.length){var d=a.slides.eq(b);if(d.hasClass("photo-browser-slide-lazy")){var e=d.find("img");if(0!==e.length){var f=new Image,g=e.attr("data-src");f.onload=function(){e.attr("src",g),e.removeAttr("data-src"),d.removeClass("photo-browser-slide-lazy").find(".preloader").remove(),c.params.onImageLoaded&&c.params.onImageLoaded(c,d[0],e[0])},f.src=g,c.params.onImageLoad&&c.params.onImageLoad(c,d[0],e[0])}}}},c.lazyLoading=function(a,b){if(c.loadImageInSlide(a,b),c.params.lazyLoadingInPrevNext){var d=a.wrapper.find(".slider-slide-next.photo-browser-slide-lazy");d.length>0&&c.loadImageInSlide(a,d.index());var e=a.wrapper.find(".slider-slide-prev.photo-browser-slide-lazy");e.length>0&&c.loadImageInSlide(a,e.index())}},c.onSliderTransitionStart=function(a){c.activeSlideIndex=a.activeSlideIndex;var b=a.activeSlideIndex+1,d=a.slides.length;if(c.params.loop&&(d-=2,b-=a.loopedSlides,1>b&&(b=d+b),b>d&&(b-=d)),c.container.find(".photo-browser-current").text(b),c.container.find(".photo-browser-total").text(d),h(".photo-browser-prev, .photo-browser-next").removeClass("photo-browser-link-inactive"),a.isFirst&&!c.params.loop&&h(".photo-browser-prev").addClass("photo-browser-link-inactive"),a.isLast&&!c.params.loop&&h(".photo-browser-next").addClass("photo-browser-link-inactive"),c.captions.length>0){c.captionsContainer.find(".photo-browser-caption-active").removeClass("photo-browser-caption-active");var e=c.params.loop?a.slides.eq(a.activeSlideIndex).attr("data-slider-slide-index"):c.activeSlideIndex;c.captionsContainer.find('[data-caption-index="'+e+'"]').addClass("photo-browser-caption-active")}c.params.lazyLoading&&(c.params.lazyLoadingOnTransitionStart||!c.params.lazyLoadingOnTransitionStart&&!c.initialLazyLoaded)&&(c.initialLazyLoaded=!0,c.lazyLoading(a,c.activeSlideIndex));var f=a.slides.eq(a.previousSlideIndex).find("video");f.length>0&&"pause"in f[0]&&f[0].pause(),c.params.onSlideChangeStart&&c.params.onSlideChangeStart(a)},c.onSliderTransitionEnd=function(a){c.params.lazyLoading&&!c.params.lazyLoadingOnTransitionStart&&c.lazyLoading(a,c.activeSlideIndex),c.params.zoom&&x&&a.previousSlideIndex!==a.activeSlideIndex&&(y.transform("translate3d(0,0,0) scale(1)"),z.transform("translate3d(0,0,0)"),x=y=z=void 0,A=B=1),c.params.onSlideChangeEnd&&c.params.onSlideChangeEnd(a)},c.layout=function(a){c.container="page"===c.params.type?h(".photo-browser-slider-container").parents(".view"):h(".photo-browser"),"standalone"===c.params.type&&(c.container.addClass("photo-browser-in"),f.sizeNavbars(c.container)),c.sliderContainer=c.container.find(".photo-browser-slider-container"),c.sliderWrapper=c.container.find(".photo-browser-slider-wrapper"),c.slides=c.container.find(".photo-browser-slide"),c.captionsContainer=c.container.find(".photo-browser-captions"),c.captions=c.container.find(".photo-browser-caption");var b={nextButton:c.params.nextButton||".photo-browser-next",prevButton:c.params.prevButton||".photo-browser-prev",indexButton:c.params.indexButton,initialSlide:a,spaceBetween:c.params.spaceBetween,speed:c.params.speed,loop:c.params.loop,onTap:function(a,b){c.params.onTap&&c.params.onTap(a,b)},onClick:function(a,b){c.params.exposition&&c.toggleExposition(),c.params.onClick&&c.params.onClick(a,b)},onDoubleTap:function(a,b){c.toggleZoom(h(b.target).parents(".photo-browser-slide")),c.params.onDoubleTap&&c.params.onDoubleTap(a,b)},onTransitionStart:function(a){c.onSliderTransitionStart(a)},onTransitionEnd:function(a){c.onSliderTransitionEnd(a)}};c.params.swipeToClose&&"page"!==c.params.type&&(b.onTouchStart=c.swipeCloseTouchStart,b.onOppositeTouchMove=c.swipeCloseTouchMove,b.onTouchEnd=c.swipeCloseTouchEnd),c.slider=f.slider(c.sliderContainer,b),0===a&&c.onSliderTransitionStart(c.slider),c.attachEvents()},c.attachEvents=function(a){var b=a?"off":"on";if(c.params.zoom){var d=c.params.loop?c.slider.slides:c.slides;d[b]("gesturestart",c.onSlideGestureStart),d[b]("gesturechange",c.onSlideGestureChange),d[b]("gestureend",c.onSlideGestureEnd),d[b](f.touchEvents.start,c.onSlideTouchStart),d[b](f.touchEvents.move,c.onSlideTouchMove),d[b](f.touchEvents.end,c.onSlideTouchEnd)}c.container.find(".photo-browser-close-link")[b]("click",c.close)};c.exposed=!1,c.toggleExposition=function(){c.container&&c.container.toggleClass("photo-browser-exposed"),c.params.expositionHideCaptions&&c.captionsContainer.toggleClass("photo-browser-captions-exposed"),c.exposed=!c.exposed},c.enableExposition=function(){c.container&&c.container.addClass("photo-browser-exposed"),c.params.expositionHideCaptions&&c.captionsContainer.addClass("photo-browser-captions-exposed"),c.exposed=!0},c.disableExposition=function(){c.container&&c.container.removeClass("photo-browser-exposed"),c.params.expositionHideCaptions&&c.captionsContainer.removeClass("photo-browser-captions-exposed"),c.exposed=!1};var x,y,z,A=1,B=1,C=!1;c.onSlideGestureStart=function(){return x||(x=h(this),y=x.find("img, svg, canvas"),z=y.parent(".photo-browser-zoom-container"),0!==z.length)?(y.transition(0),void(C=!0)):void(y=void 0)},c.onSlideGestureChange=function(a){y&&0!==y.length&&(A=a.scale*B,A>c.params.maxZoom&&(A=c.params.maxZoom-1+Math.pow(A-c.params.maxZoom+1,.5)),A<c.params.minZoom&&(A=c.params.minZoom+1-Math.pow(c.params.minZoom-A+1,.5)),y.transform("translate3d(0,0,0) scale("+A+")"))},c.onSlideGestureEnd=function(){y&&0!==y.length&&(A=Math.max(Math.min(A,c.params.maxZoom),c.params.minZoom),y.transition(c.params.speed).transform("translate3d(0,0,0) scale("+A+")"),B=A,C=!1,1===A&&(x=void 0))},c.toggleZoom=function(){x||(x=c.slider.slides.eq(c.slider.activeSlideIndex),y=x.find("img, svg, canvas"),z=y.parent(".photo-browser-zoom-container")),y&&0!==y.length&&(z.transition(300).transform("translate3d(0,0,0)"),A&&1!==A?(A=B=1,y.transition(300).transform("translate3d(0,0,0) scale(1)"),x=void 0):(A=B=c.params.maxZoom,y.transition(300).transform("translate3d(0,0,0) scale("+A+")")))};var D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U={},V={};c.onSlideTouchStart=function(a){y&&0!==y.length&&(D||("android"===f.device.os&&a.preventDefault(),D=!0,U.x="touchstart"===a.type?a.targetTouches[0].pageX:a.pageX,U.y="touchstart"===a.type?a.targetTouches[0].pageY:a.pageY))},c.onSlideTouchMove=function(a){if(y&&0!==y.length&&(c.slider.allowClick=!1,D&&x)){E||(L=y[0].offsetWidth,M=y[0].offsetHeight,N=h.getTranslate(z[0],"x")||0,O=h.getTranslate(z[0],"y")||0,z.transition(0));var b=L*A,d=M*A;if(!(b<c.slider.width&&d<c.slider.height)){if(H=Math.min(c.slider.width/2-b/2,0),J=-H,I=Math.min(c.slider.height/2-d/2,0),K=-I,V.x="touchmove"===a.type?a.targetTouches[0].pageX:a.pageX,V.y="touchmove"===a.type?a.targetTouches[0].pageY:a.pageY,!E&&!C&&(Math.floor(H)===Math.floor(N)&&V.x<U.x||Math.floor(J)===Math.floor(N)&&V.x>U.x))return void(D=!1);a.stopPropagation(),E=!0,F=V.x-U.x+N,G=V.y-U.y+O,H>F&&(F=H+1-Math.pow(H-F+1,.8)),F>J&&(F=J-1+Math.pow(F-J+1,.8)),I>G&&(G=I+1-Math.pow(I-G+1,.8)),G>K&&(G=K-1+Math.pow(G-K+1,.8)),P||(P=V.x),S||(S=V.y),Q||(Q=Date.now()),R=(V.x-P)/(Date.now()-Q)/2,T=(V.y-S)/(Date.now()-Q)/2,Math.abs(V.x-P)<2&&(R=0),Math.abs(V.y-S)<2&&(T=0),P=V.x,S=V.y,Q=Date.now(),z.transform("translate3d("+F+"px, "+G+"px,0)")}}},c.onSlideTouchEnd=function(){if(y&&0!==y.length){if(!D||!E)return D=!1,void(E=!1);D=!1,E=!1;var a=300,b=300,d=R*a,e=F+d,f=T*b,g=G+f;0!==R&&(a=Math.abs((e-F)/R)),0!==T&&(b=Math.abs((g-G)/T));var h=Math.max(a,b);F=e,G=g;var i=L*A,j=M*A;H=Math.min(c.slider.width/2-i/2,0),J=-H,I=Math.min(c.slider.height/2-j/2,0),K=-I,F=Math.max(Math.min(F,J),H),G=Math.max(Math.min(G,K),I),z.transition(h).transform("translate3d("+F+"px, "+G+"px,0)")}};var W,X,Y,Z,$,_=!1,ab=!0,bb=!1;return c.swipeCloseTouchStart=function(){ab&&(_=!0)},c.swipeCloseTouchMove=function(a,b){if(_){bb||(bb=!0,X="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,Z=c.slider.slides.eq(c.slider.activeSlideIndex),$=(new Date).getTime()),b.preventDefault(),Y="touchmove"===b.type?b.targetTouches[0].pageY:b.pageY,W=X-Y;var d=1-Math.abs(W)/300;Z.transform("translate3d(0,"+-W+"px,0)"),c.slider.container.css("opacity",d).transition(0)}},c.swipeCloseTouchEnd=function(){if(_=!1,!bb)return void(bb=!1);bb=!1,ab=!1;var a=Math.abs(W),b=(new Date).getTime()-$;return 300>b&&a>20||b>=300&&a>100?void setTimeout(function(){"standalone"===c.params.type&&c.close(),"popup"===c.params.type&&f.closeModal(c.popup),c.params.onSwipeToClose&&c.params.onSwipeToClose(c),ab=!0},0):(0!==a?Z.addClass("transitioning").transitionEnd(function(){ab=!0,Z.removeClass("transitioning")}):ab=!0,c.slider.container.css("opacity","").transition(""),void Z.transform(""))},c};f.photoBrowser=function(a){return new p(a)};var q;f.addNotification=function(a){if(a){"undefined"==typeof a.media&&(a.media=f.params.notificationMedia),"undefined"==typeof a.title&&(a.title=f.params.notificationTitle),"undefined"==typeof a.subtitle&&(a.subtitle=f.params.notificationSubtitle),"undefined"==typeof a.closeIcon&&(a.closeIcon=f.params.notificationCloseIcon),"undefined"==typeof a.hold&&(a.hold=f.params.notificationHold),"undefined"==typeof a.closeOnClick&&(a.closeOnClick=f.params.notificationCloseOnClick),q||(q=document.createElement("div"));var b=h(".notifications");0===b.length&&(h("body").append('<div class="notifications list-block media-list"><ul></ul></div>'),b=h(".notifications"));var c,d=b.children("ul");c=a.custom?"<li>"+a.custom+"</li>":'<li class="notification-item notification-hidden"><div class="item-content">'+(a.media?'<div class="item-media">'+a.media+"</div>":"")+'<div class="item-inner"><div class="item-title-row">'+(a.title?'<div class="item-title">'+a.title+"</div>":"")+(a.closeIcon?'<div class="item-after"><a href="#" class="close-notification"><span></span></a></div>':"")+"</div>"+(a.subtitle?'<div class="item-subtitle">'+a.subtitle+"</div>":"")+(a.message?'<div class="item-text">'+a.message+"</div>":"")+"</div></div></li>",q.innerHTML=c;var e=h(q).children();e.on("click",function(b){var c=!1;h(b.target).is(".close-notification")||h(b.target).parents(".close-notification").length>0?c=!0:(a.onClick&&a.onClick(b,e[0]),a.closeOnClick&&(c=!0)),c&&f.closeNotification(e[0])}),a.onClose&&e.data("f7NotificationOnClose",function(){a.onClose(e[0])}),a.additionalClass&&e.addClass(a.additionalClass),a.hold&&setTimeout(function(){e.length>0&&f.closeNotification(e[0])},a.hold),d.prepend(e[0]),b.show();var g=e.outerHeight();e.css("marginTop",-g+"px"),e.transition(0);{e[0].clientLeft}return e.transition(""),e.css("marginTop","0px"),b.transform("translate3d(0, 0,0)"),e.removeClass("notification-hidden"),e[0]}},f.closeNotification=function(a){if(a=h(a),0!==a.length&&!a.hasClass("notification-item-removing")){var b=h(".notifications"),c=a.outerHeight();a.css("height",c+"px").transition(0);{a[0].clientLeft}a.css("height","0px").transition("").addClass("notification-item-removing"),a.data("f7NotificationOnClose")&&a.data("f7NotificationOnClose")(),0===b.find(".notification-item:not(.notification-item-removing)").length&&b.transform(""),a.addClass("notification-hidden").transitionEnd(function(){a.remove(),0===b.find(".notification-item").length&&b.hide()})}},f.initTemplate7Templates=function(){window.Template7&&(Template7.templates=Template7.templates||f.params.templates||{},Template7.data=Template7.data||f.params.template7Data||{},Template7.cache=Template7.cache||{},f.templates=Template7.templates,f.template7Data=Template7.data,f.template7Cache=Template7.cache,f.params.precompileTemplates&&h('script[type="text/template7"]').each(function(){var a=h(this).attr("id");a&&(Template7.templates[a]=Template7.compile(h(this).html()))}))};var r=[];return f.initPlugins=function(){for(var a in f.plugins){var b=f.plugins[a](f,f.params[a]);b&&r.push(b)}},f.pluginHook=function(a){for(var b=0;b<r.length;b++)r[b].hooks&&a in r[b].hooks&&r[b].hooks[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])},f.pluginPrevent=function(a){for(var b=!1,c=0;c<r.length;c++)r[c].prevents&&a in r[c].prevents&&r[c].prevents[a](arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])&&(b=!0);return b},f.pluginProcess=function(a,b){for(var c=b,d=0;d<r.length;d++)r[d].preprocess&&process in r[d].preprocess&&(c=r[d].preprocess[process](b,arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]));return c},f.init=function(){f.initPlugins&&f.initPlugins(),f.getDeviceInfo&&f.getDeviceInfo(),f.initFastClicks&&f.params.fastClicks&&f.initFastClicks(),f.initClickEvents&&f.initClickEvents(),h(".page:not(.cached)").each(function(){var a=h(this),b=a.parents("."+f.params.viewClass);if(0!==b.length){var c=b[0].f7View||!1,d=c&&c.url?c.url:!1;b&&b.attr("data-page",a.attr("data-page")||void 0),f.pageInitCallback(c,{pageContainer:this,url:d,position:"center"})}}),f.initResize&&f.initResize(),f.initPushState&&f.params.pushState&&f.initPushState(),f.initSwipeout&&f.params.swipeout&&f.initSwipeout(),f.initSortable&&f.params.sortable&&f.initSortable(),f.initSwipePanels&&(f.params.swipePanel||f.params.swipePanelOnlyClose)&&f.initSwipePanels(),f.params.onAppInit&&f.params.onAppInit(),f.initTemplate7Templates&&f.initTemplate7Templates(),f.pluginHook("appInit")},f.params.init&&f.init(),f};var a=function(){var a=function(a){var b=this,c=0;for(c=0;c<a.length;c++)b[c]=a[c];return b.length=a.length,this},b=function(b,c){var d=[],e=0;if(b&&!c&&b instanceof a)return b;if(b)if("string"==typeof b){var f,g,h=b.trim();if(h.indexOf("<")>=0&&h.indexOf(">")>=0){var i="div";for(0===h.indexOf("<li")&&(i="ul"),0===h.indexOf("<tr")&&(i="tbody"),(0===h.indexOf("<td")||0===h.indexOf("<th"))&&(i="tr"),0===h.indexOf("<tbody")&&(i="table"),0===h.indexOf("<option")&&(i="select"),g=document.createElement(i),g.innerHTML=b,e=0;e<g.childNodes.length;e++)d.push(g.childNodes[e])}else for(f=c||"#"!==b[0]||b.match(/[ .<>:~]/)?(c||document).querySelectorAll(b):[document.getElementById(b.split("#")[1])],e=0;e<f.length;e++)f[e]&&d.push(f[e])}else if(b.nodeType||b===window||b===document)d.push(b);else if(b.length>0&&b[0].nodeType)for(e=0;e<b.length;e++)d.push(b[e]);return new a(d)};a.prototype={addClass:function(a){if("undefined"==typeof a)return this;for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.add(b[c]);return this},removeClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.remove(b[c]);return this},hasClass:function(a){return this[0]?this[0].classList.contains(a):!1},toggleClass:function(a){for(var b=a.split(" "),c=0;c<b.length;c++)for(var d=0;d<this.length;d++)this[d].classList.toggle(b[c]);return this},attr:function(a,b){if(1===arguments.length&&"string"==typeof a)return this[0]?this[0].getAttribute(a):void 0;for(var c=0;c<this.length;c++)if(2===arguments.length)this[c].setAttribute(a,b);else for(var d in a)this[c][d]=a[d],this[c].setAttribute(d,a[d]);return this},removeAttr:function(a){for(var b=0;b<this.length;b++)this[b].removeAttribute(a)},prop:function(a,b){if(1===arguments.length&&"string"==typeof a)return this[0]?this[0][a]:void 0;for(var c=0;c<this.length;c++)if(2===arguments.length)this[c][a]=b;else for(var d in a)this[c][d]=a[d];return this},data:function(a,b){if("undefined"==typeof b){if(this[0]){var c=this[0].getAttribute("data-"+a);return c?c:this[0].dom7ElementDataStorage&&a in this[0].dom7ElementDataStorage?this[0].dom7ElementDataStorage[a]:void 0}return void 0}for(var d=0;d<this.length;d++){var e=this[d];
e.dom7ElementDataStorage||(e.dom7ElementDataStorage={}),e.dom7ElementDataStorage[a]=b}return this},val:function(a){if("undefined"==typeof a)return this[0]?this[0].value:null;for(var b=0;b<this.length;b++)this[b].value=a;return this},transform:function(a){for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransform=c.MsTransform=c.msTransform=c.MozTransform=c.OTransform=c.transform=a}return this},transition:function(a){"string"!=typeof a&&(a+="ms");for(var b=0;b<this.length;b++){var c=this[b].style;c.webkitTransitionDuration=c.MsTransitionDuration=c.msTransitionDuration=c.MozTransitionDuration=c.OTransitionDuration=c.transitionDuration=a}return this},on:function(a,c,d,e){function f(a){var e=a.target;if(b(e).is(c))d.call(e,a);else for(var f=b(e).parents(),g=0;g<f.length;g++)b(f[g]).is(c)&&d.call(f[g],a)}var g,h,i=a.split(" ");for(g=0;g<this.length;g++)if("function"==typeof c||c===!1)for("function"==typeof c&&(d=arguments[1],e=arguments[2]||!1),h=0;h<i.length;h++)this[g].addEventListener(i[h],d,e);else for(h=0;h<i.length;h++)this[g].dom7LiveListeners||(this[g].dom7LiveListeners=[]),this[g].dom7LiveListeners.push({listener:d,liveListener:f}),this[g].addEventListener(i[h],f,e);return this},off:function(a,b,c,d){for(var e=a.split(" "),f=0;f<e.length;f++)for(var g=0;g<this.length;g++)if("function"==typeof b||b===!1)"function"==typeof b&&(c=arguments[1],d=arguments[2]||!1),this[g].removeEventListener(e[f],c,d);else if(this[g].dom7LiveListeners)for(var h=0;h<this[g].dom7LiveListeners.length;h++)this[g].dom7LiveListeners[h].listener===c&&this[g].removeEventListener(e[f],this[g].dom7LiveListeners[h].liveListener,d);return this},once:function(a,b,c,d){function e(g){c(g),f.off(a,b,e,d)}var f=this;"function"==typeof b&&(b=!1,c=arguments[1],d=arguments[2]),f.on(a,b,e,d)},trigger:function(a,b){for(var c=0;c<this.length;c++){var d;try{d=new CustomEvent(a,{detail:b,bubbles:!0,cancelable:!0})}catch(e){d=document.createEvent("Event"),d.initEvent(a,!0,!0),d.detail=b}this[c].dispatchEvent(d)}return this},transitionEnd:function(a){function b(f){if(f.target===this)for(a.call(this,f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitTransitionEnd","transitionend","oTransitionEnd","MSTransitionEnd","msTransitionEnd"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},animationEnd:function(a){function b(f){for(a(f),c=0;c<d.length;c++)e.off(d[c],b)}var c,d=["webkitAnimationEnd","OAnimationEnd","MSAnimationEnd","animationend"],e=this;if(a)for(c=0;c<d.length;c++)e.on(d[c],b);return this},width:function(){return this[0]===window?window.innerWidth:this.length>0?parseFloat(this.css("width")):null},outerWidth:function(a){return this.length>0?a?this[0].offsetWidth+parseFloat(this.css("margin-right"))+parseFloat(this.css("margin-left")):this[0].offsetWidth:null},height:function(){return this[0]===window?window.innerHeight:this.length>0?parseFloat(this.css("height")):null},outerHeight:function(a){return this.length>0?a?this[0].offsetHeight+parseFloat(this.css("margin-top"))+parseFloat(this.css("margin-bottom")):this[0].offsetHeight:null},offset:function(){if(this.length>0){var a=this[0],b=a.getBoundingClientRect(),c=document.body,d=a.clientTop||c.clientTop||0,e=a.clientLeft||c.clientLeft||0,f=window.pageYOffset||a.scrollTop,g=window.pageXOffset||a.scrollLeft;return{top:b.top+f-d,left:b.left+g-e}}return null},hide:function(){for(var a=0;a<this.length;a++)this[a].style.display="none";return this},show:function(){for(var a=0;a<this.length;a++)this[a].style.display="block";return this},css:function(a,b){var c;if(1===arguments.length){if("string"!=typeof a){for(c=0;c<this.length;c++)for(var d in a)this[c].style[d]=a[d];return this}if(this[0])return window.getComputedStyle(this[0],null).getPropertyValue(a)}if(2===arguments.length&&"string"==typeof a){for(c=0;c<this.length;c++)this[c].style[a]=b;return this}return this},each:function(a){for(var b=0;b<this.length;b++)a.call(this[b],b,this[b]);return this},html:function(a){if("undefined"==typeof a)return this[0]?this[0].innerHTML:void 0;for(var b=0;b<this.length;b++)this[b].innerHTML=a;return this},text:function(a){if("undefined"==typeof a)return this[0]?this[0].textContent.trim():null;for(var b=0;b<this.length;b++)this[0].textContent=a},is:function(c){if(!this[0])return!1;var d,e;if("string"==typeof c){var f=this[0];if(f===document)return c===document;if(f===window)return c===window;if(f.matches)return f.matches(c);if(f.webkitMatchesSelector)return f.webkitMatchesSelector(c);if(f.mozMatchesSelector)return f.mozMatchesSelector(c);if(f.msMatchesSelector)return f.msMatchesSelector(c);for(d=b(c),e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}if(c===document)return this[0]===document;if(c===window)return this[0]===window;if(c.nodeType||c instanceof a){for(d=c.nodeType?[c]:c,e=0;e<d.length;e++)if(d[e]===this[0])return!0;return!1}return!1},indexOf:function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b},index:function(){if(this[0]){for(var a=this[0],b=0;null!==(a=a.previousSibling);)1===a.nodeType&&b++;return b}return void 0},eq:function(b){if("undefined"==typeof b)return this;var c,d=this.length;return b>d-1?new a([]):0>b?(c=d+b,new a(0>c?[]:[this[c]])):new a([this[b]])},append:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b;e.firstChild;)this[c].appendChild(e.firstChild)}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].appendChild(b[d]);else this[c].appendChild(b);return this},prepend:function(b){var c,d;for(c=0;c<this.length;c++)if("string"==typeof b){var e=document.createElement("div");for(e.innerHTML=b,d=e.childNodes.length-1;d>=0;d--)this[c].insertBefore(e.childNodes[d],this[c].childNodes[0])}else if(b instanceof a)for(d=0;d<b.length;d++)this[c].insertBefore(b[d],this[c].childNodes[0]);else this[c].insertBefore(b,this[c].childNodes[0]);return this},insertBefore:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0]);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e])},insertAfter:function(a){for(var c=b(a),d=0;d<this.length;d++)if(1===c.length)c[0].parentNode.insertBefore(this[d],c[0].nextSibling);else if(c.length>1)for(var e=0;e<c.length;e++)c[e].parentNode.insertBefore(this[d].cloneNode(!0),c[e].nextSibling)},next:function(c){return new a(this.length>0?c?this[0].nextElementSibling&&b(this[0].nextElementSibling).is(c)?[this[0].nextElementSibling]:[]:this[0].nextElementSibling?[this[0].nextElementSibling]:[]:[])},nextAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.nextElementSibling;){var f=e.nextElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},prev:function(c){return new a(this.length>0?c?this[0].previousElementSibling&&b(this[0].previousElementSibling).is(c)?[this[0].previousElementSibling]:[]:this[0].previousElementSibling?[this[0].previousElementSibling]:[]:[])},prevAll:function(c){var d=[],e=this[0];if(!e)return new a([]);for(;e.previousElementSibling;){var f=e.previousElementSibling;d.push(c&&b(f).is(c)?f:f),e=f}return new a(d)},parent:function(a){for(var c=[],d=0;d<this.length;d++)a?b(this[d].parentNode).is(a)&&c.push(this[d].parentNode):c.push(this[d].parentNode);return b(b.unique(c))},parents:function(a){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].parentNode;e;)a?b(e).is(a)&&c.push(e):c.push(e),e=e.parentNode;return b(b.unique(c))},find:function(b){for(var c=[],d=0;d<this.length;d++)for(var e=this[d].querySelectorAll(b),f=0;f<e.length;f++)c.push(e[f]);return new a(c)},children:function(c){for(var d=[],e=0;e<this.length;e++)for(var f=this[e].childNodes,g=0;g<f.length;g++)c?1===f[g].nodeType&&b(f[g]).is(c)&&d.push(f[g]):1===f[g].nodeType&&d.push(f[g]);return new a(b.unique(d))},remove:function(){for(var a=0;a<this.length;a++)this[a].parentNode&&this[a].parentNode.removeChild(this[a]);return this},detach:function(){return this.remove()}},function(){function b(b){a.prototype[b]=function(a){var c;if("undefined"==typeof a){for(c=0;c<this.length;c++)d.indexOf(b)<0&&this[c][b]();return this}return this.on(b,a)}}for(var c="click blur focus focusin focusout keyup keydown keypress submit change mousedown mousemove mouseup mouseenter mouseleave mouseout mouseover touchstart touchend touchmove resize scroll".split(" "),d="resize scroll".split(" "),e=0;e<c.length;e++)b(c[e])}();var c=0;return b.ajax=function(a){var d={method:"GET",data:!1,async:!0,cache:!0,user:"",password:"",headers:{},xhrFields:{},statusCode:{},processData:!0,dataType:"text",contentType:"application/x-www-form-urlencoded",timeout:0};a.type&&(a.method=a.type);for(var e in d)e in a||(a[e]=d[e]);a.url||(a.url=window.location.toString());var f=a.method.toUpperCase();if(("GET"===f||"HEAD"===f)&&a.data){var g;g="string"==typeof a.data?a.data.indexOf("?")>=0?a.data.split("?")[1]:a.data:b.serializeObject(a.data),a.url+=a.url.indexOf("?")>=0?"&"+g:"?"+g}if("json"===a.dataType&&a.url.indexOf("callback=")>=0){var h,i,j="f7jsonp_"+Date.now()+c++,k=a.url.split("callback=");if(k[1].indexOf("&")>=0){var l=k[1].split("&").filter(function(a){return a.indexOf("=")>0}).join("&");h=k[0]+"callback="+j+(l.length>0?"&"+l:"")}else h=k[0]+"callback="+j;var m=document.createElement("script");return m.type="text/javascript",m.onerror=function(){clearTimeout(i),a.error&&a.error()},m.src=h,window[j]=function(b){clearTimeout(i),a.success&&a.success(b),m.parentNode.removeChild(m),m=null,delete window[j]},document.querySelector("head").appendChild(m),void(a.timeout>0&&(i=setTimeout(function(){m.parentNode.removeChild(m),m=null,a.error&&a.error()},a.timeout)))}("GET"===f||"HEAD"===f)&&a.cache===!1&&(a.url+="_nocache="+Date.now());var n=new XMLHttpRequest;n.open(f,a.url,a.async,a.user,a.password);var o=null;if(("POST"===f||"PUT"===f)&&a.data)if(a.processData){var p=[ArrayBuffer,Blob,Document,FormData];if(p.indexOf(a.data.constructor)>=0)o=a.data;else{var q="---------------------------"+Date.now().toString(16);"multipart/form-data"===a.contentType?n.setRequestHeader("Content-Type","multipart/form-data; boundary="+q):n.setRequestHeader("Content-Type",a.contentType),o="";var r=b.serializeObject(a.data);if("multipart/form-data"===a.contentType){q="---------------------------"+Date.now().toString(16),r=r.split("&");for(var s=[],t=0;t<r.length;t++)s.push('Content-Disposition: form-data; name="'+r[t].split("=")[0]+'"\r\n\r\n'+r[t].split("=")[1]+"\r\n");o="--"+q+"\r\n"+s.join("--"+q+"\r\n")+"--"+q+"--\r\n"}else o="application/x-www-form-urlencoded"===a.contentType?r:r.replace(/&/g,"\r\n")}}else o=a.data;if(a.headers)for(var u in a.headers)n.setRequestHeader(u,a.headers[u]);if("undefined"==typeof a.crossDomain&&(a.crossDomain=/^([\w-]+:)?\/\/([^\/]+)/.test(a.url)&&RegExp.$2!==window.location.host),a.crossDomain||n.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.xhrFields)for(var v in a.xhrFields)n[v]=a.xhrFields[v];return n.onload=function(){if((200===n.status||0===n.status)&&(b(document).trigger("ajaxSuccess",{xhr:n}),a.success)){var c=n.responseText;"json"===a.dataType&&(c=JSON.parse(c)),a.success(c,n.status,n)}a.statusCode&&a.statusCode[n.status]&&a.statusCode[n.status](n),a.complete&&a.complete(n),b(document).trigger("ajaxComplete",{xhr:n})},n.onerror=function(){b(document).trigger("ajaxError",{xhr:n}),a.error&&a.error(n)},a.start&&a.start(n),b(document).trigger("ajaxStart",{xhr:n}),n.send(o),n},function(){function a(a){b[a]=function(c,d,e){return b.ajax({url:c,method:"post"===a?"POST":"GET",data:"function"==typeof d?void 0:d,success:"function"==typeof d?d:e,dataType:"getJSON"===a?"json":void 0})}}for(var c="get post getJSON".split(" "),d=0;d<c.length;d++)a(c[d])}(),b.parseUrlQuery=function(a){var b,c,d,e={};if(!(a.indexOf("?")>=0))return e;for(a=a.split("?")[1],c=a.split("&"),b=0;b<c.length;b++)d=c[b].split("="),e[d[0]]=d[1];return e},b.isArray=function(a){return"[object Array]"===Object.prototype.toString.apply(a)?!0:!1},b.unique=function(a){for(var b=[],c=0;c<a.length;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b},b.trim=function(a){return a.trim()},b.serializeObject=function(a){if("string"==typeof a)return a;var c=[],d="&";for(var e in a)if(b.isArray(a[e])){for(var f=[],g=0;g<a[e].length;g++)f.push(e+"="+a[e][g]);c.push(f.join(d))}else c.push(e+"="+a[e]);return c.join(d)},b.getTranslate=function(a,b){var c,d,e,f;return"undefined"==typeof b&&(b="x"),e=window.getComputedStyle(a,null),window.WebKitCSSMatrix?f=new WebKitCSSMatrix("none"===e.webkitTransform?"":e.webkitTransform):(f=e.MozTransform||e.OTransform||e.MsTransform||e.msTransform||e.transform||e.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),c=f.toString().split(",")),"x"===b&&(d=window.WebKitCSSMatrix?f.m41:parseFloat(16===c.length?c[12]:c[4])),"y"===b&&(d=window.WebKitCSSMatrix?f.m42:parseFloat(16===c.length?c[13]:c[5])),d||0},b.requestAnimationFrame=function(a){return window.requestAnimationFrame?window.requestAnimationFrame(a):window.webkitRequestAnimationFrame?window.webkitRequestAnimationFrame(a):window.mozRequestAnimationFrame?window.mozRequestAnimationFrame(a):window.setTimeout(a,1e3/60)},b.supportTouch=!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch),b.fn=a.prototype,b.fn.scrollTo=function(a,c,d){return this.each(function(){function e(a){void 0===a&&(a=(new Date).getTime()),null===q&&(q=a);var c;o&&(l=f+(a-q)/d*(j-f)),p&&(m=g+(a-q)/d*(k-g)),o&&j>f&&l>=j&&(n.scrollTop=j,c=!0),o&&f>j&&j>=l&&(n.scrollTop=j,c=!0),p&&k>g&&m>=k&&(n.scrollLeft=k,c=!0),p&&g>k&&k>=m&&(n.scrollLeft=k,c=!0),c||(o&&(n.scrollTop=l),p&&(n.scrollLeft=m),b.requestAnimationFrame(e))}var f,g,h,i,j,k,l,m,n=this,o=c>0||0===c,p=a>0||0===a;if(o&&(f=n.scrollTop,d||(n.scrollTop=c)),p&&(g=n.scrollLeft,d||(n.scrollLeft=a)),d){o&&(h=n.scrollHeight-n.offsetHeight,j=Math.max(Math.min(c,h),0)),p&&(i=n.scrollWidth-n.offsetWidth,k=Math.max(Math.min(a,i),0));var q=null;o&&j===f&&(o=!1),p&&k===g&&(p=!1),b.requestAnimationFrame(e)}})},b.fn.scrollTop=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollTop:null:c.scrollTo(void 0,a,b)},b.fn.scrollLeft=function(a,b){var c=this;return"undefined"==typeof a?c.length>0?c[0].scrollLeft:null:c.scrollTo(a,void 0,b)},b}();Framework7.$=a;window.Dom7=a,Framework7.prototype.support=function(){var a={touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)};return a}(),Framework7.prototype.device=function(){var b={},c=navigator.userAgent,d=a,e=c.match(/(Android);?[\s\/]+([\d.]+)?/),f=c.match(/(iPad).*OS\s([\d_]+)/),g=c.match(/(iPod)(.*OS\s([\d_]+))?/),h=!f&&c.match(/(iPhone\sOS)\s([\d_]+)/);if(b.ios=b.android=b.iphone=b.ipad=!1,e&&(b.os="android",b.osVersion=e[2],b.android=!0),(f||h||g)&&(b.os="ios",b.ios=!0),h&&!g&&(b.osVersion=h[2].replace(/_/g,"."),b.iphone=!0),f&&(b.osVersion=f[2].replace(/_/g,"."),b.ipad=!0),g&&(b.osVersion=g[3]?g[3].replace(/_/g,"."):null,b.iphone=!0),b.ios&&b.osVersion&&c.indexOf("Version/")>=0&&"10"===b.osVersion.split(".")[0]&&(b.osVersion=c.toLowerCase().split("version/")[1].split(" ")[0]),b.webView=(h||f||g)&&c.match(/.*AppleWebKit(?!.*Safari)/i),b.os&&"ios"===b.os){var i=b.osVersion.split(".");b.minimalUi=!b.webView&&(g||h)&&(1*i[0]===7?1*i[1]>=1:1*i[0]>7)&&d('meta[name="viewport"]').length>0&&d('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var j=d(window).width(),k=d(window).height();b.statusBar=!1,b.statusBar=b.webView&&j*k===screen.width*screen.height?!0:!1;var l=[];if(b.pixelRatio=window.devicePixelRatio||1,b.pixelRatio>=2&&l.push("retina"),b.os&&(l.push(b.os,b.os+"-"+b.osVersion.split(".")[0],b.os+"-"+b.osVersion.replace(/\./g,"-")),"ios"===b.os))for(var m=parseInt(b.osVersion.split(".")[0],10),n=m-1;n>=6;n--)l.push("ios-gt-"+n);return b.statusBar?l.push("with-statusbar-overlay"):d("html").removeClass("with-statusbar-overlay"),l.length>0&&d("html").addClass(l.join(" ")),b}(),Framework7.prototype.plugins={}}(),window.Template7=function(){"use strict";function a(a){return"[object Array]"===Object.prototype.toString.apply(a)}function b(a){return"function"==typeof a}function c(a){var b,c,d,e=a.replace(/[{}#}]/g,"").split(" "),f=[];for(c=0;c<e.length;c++){var g=e[c];if(0===c)f.push(g);else if(0===g.indexOf('"'))if(2===g.match(/"/g).length)f.push(g);else{for(b=0,d=c+1;d<e.length;d++)if(g+=" "+e[d],e[d].indexOf('"')>=0){b=d,f.push(g);break}b&&(c=b)}else if(g.indexOf("=")>0){var h=g.split("="),i=h[0],j=h[1];if(2!==j.match(/"/g).length){for(b=0,d=c+1;d<e.length;d++)if(j+=" "+e[d],e[d].indexOf('"')>=0){b=d;break}b&&(c=b)}var k=[i,j.replace(/"/g,"")];f.push(k)}else f.push(g)}return f}function d(b){var d,e,f=[];if(!b)return[];var g=b.split(/({{[^{^}]*}})/);for(d=0;d<g.length;d++){var h=g[d];if(""!==h)if(h.indexOf("{{")<0)f.push({type:"plain",content:h});else{if(h.indexOf("{/")>=0)continue;if(h.indexOf("{#")<0&&h.indexOf(" ")<0&&h.indexOf("else")<0){f.push({type:"variable",contextName:h.replace(/[{}]/g,"")});continue}var i=c(h),j=i[0],k=[],l={};for(e=1;e<i.length;e++){var m=i[e];a(m)?l[m[0]]="false"===m[1]?!1:m[1]:k.push(m)}if(h.indexOf("{#")>=0){var n,o="",p="",q=0,r=!1,s=!1,t=0;for(e=d+1;e<g.length;e++)if(g[e].indexOf("{{#")>=0&&t++,g[e].indexOf("{{/")>=0&&t--,g[e].indexOf("{{#"+j)>=0)o+=g[e],s&&(p+=g[e]),q++;else if(g[e].indexOf("{{/"+j)>=0){if(!(q>0)){n=e,r=!0;break}q--,o+=g[e],s&&(p+=g[e])}else g[e].indexOf("else")>=0&&0===t?s=!0:(s||(o+=g[e]),s&&(p+=g[e]));r&&(n&&(d=n),f.push({type:"helper",helperName:j,contextName:k,content:o,inverseContent:p,hash:l}))}else h.indexOf(" ")>0&&f.push({type:"helper",helperName:j,contextName:k,hash:l})}}return f}var e=function(a){function b(a,b){return a.content?g(a.content,b):function(){return""}}function c(a,b){return a.inverseContent?g(a.inverseContent,b):function(){return""}}function e(a,b){var c;if(a.indexOf("@global")>=0)c="(Template7.global && Template7.global."+a.split("@global.")[1]+")";else if(a.indexOf("@")>=0)c="(data && data."+a.replace("@","")+")";else if(a.indexOf(".")>0)c=0===a.indexOf("this")?a.replace("this",b):b+"."+a;else if(0===a.indexOf("../")){var d=a.split("../").length-1,e=a.split("../")[a.split("../").length-1],f=b.split("_")[1]-d;c="ctx_"+(f>=1?f:1)+"."+e}else c="this"===a?b:b+"."+a;return c}function f(a,b){for(var c=[],d=0;d<a.length;d++)c.push(0===a[d].indexOf('"')?a[d]:e(a[d],b));return c.join(", ")}function g(a,g){if(g=g||1,a=a||h.template,"string"!=typeof a)throw new Error("Template7: Template must be a string");var i=d(a);if(0===i.length)return function(){return""};var j="ctx_"+g,k="(function ("+j+", data) {\n";1===g&&(k+="function isArray(arr){return Object.prototype.toString.apply(arr) === '[object Array]';}\n",k+="function isFunction(func){return (typeof func === 'function');}\n",k+='function c(val, ctx) {if (typeof val !== "undefined") {if (isFunction(val)) {return val.call(ctx);} else return val;} else return "";}\n'),k+="var r = '';\n";var l;for(l=0;l<i.length;l++){var m=i[l];if("plain"!==m.type){var n,o;if("variable"===m.type&&(n=e(m.contextName,j),k+="r += c("+n+", "+j+");"),"helper"===m.type)if(m.helperName in h.helpers)o=f(m.contextName,j),k+="r += (Template7.helpers."+m.helperName+").call("+j+", "+(o&&o+",")+"{hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});";else{if(m.contextName.length>0)throw new Error('Template7: Missing helper: "'+m.helperName+'"');n=e(m.helperName,j),k+="if ("+n+") {",k+="if (isArray("+n+")) {",k+="r += (Template7.helpers.each).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});",k+="}else {",k+="r += (Template7.helpers.with).call("+j+", "+n+", {hash:"+JSON.stringify(m.hash)+", data: data || {}, fn: "+b(m,g+1)+", inverse: "+c(m,g+1)+"});",k+="}}"}}else k+="r +='"+m.content.replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/'/g,"\\'")+"';"}return k+="\nreturn r;})",eval.call(window,k)}var h=this;h.template=a,h.compile=function(a){return h.compiled||(h.compiled=g(a)),h.compiled}};e.prototype={options:{},helpers:{"if":function(a,c){return b(a)&&(a=a.call(this)),a?c.fn(this,c.data):c.inverse(this,c.data)},unless:function(a,c){return b(a)&&(a=a.call(this)),a?c.inverse(this,c.data):c.fn(this,c.data)},each:function(c,d){var e="",f=0;if(b(c)&&(c=c.call(this)),a(c)){for(d.hash.reverse&&(c=c.reverse()),f=0;f<c.length;f++)e+=d.fn(c[f],{first:0===f,last:f===c.length-1,index:f});d.hash.reverse&&(c=c.reverse())}else for(var g in c)f++,e+=d.fn(c[g],{key:g});return f>0?e:d.inverse(this)},"with":function(a,c){return b(a)&&(a=a.call(this)),c.fn(a)},join:function(a,c){return b(a)&&(a=a.call(this)),a.join(c.hash.delimiter||c.hash.delimeter)}}};var f=function(a,b){if(2===arguments.length){var c=new e(a),d=c.compile()(b);return c=null,d}return new e(a)};return f.registerHelper=function(a,b){e.prototype.helpers[a]=b},f.unregisterHelper=function(a){e.prototype.helpers[a]=void 0,delete e.prototype.helpers[a]},f.compile=function(a,b){var c=new e(a,b);return c.compile()},f.options=e.prototype.options,f.helpers=e.prototype.helpers,f}();
//# sourceMappingURL=framework7.min.js.map